<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.4.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">
  <link rel="stylesheet" href="/lib/pace/pace-theme-minimal.min.css">
  <script src="/lib/pace/pace.min.js"></script>

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"sharp-rookie.github.io","root":"/","scheme":"Gemini","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"always","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":true,"show_result":true,"style":"flat"},"back2top":{"enable":true,"sidebar":true,"scrollpercent":true},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":"valine","storage":true,"lazyload":false,"nav":null,"activeClass":"valine"},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"manual","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

<script> 
   (function(){
          if(''){
              if (prompt('请输入文章密码') !== ''){
                  alert('密码错误！');
                  history.back();
              }
          }
      })();
  </script>
  <meta name="description" content="计算机网络知识点总结   改自18级种子班“卢神”：计算机网络考试复习 参考：哈工大计网mooc、计算机网络博客、《计算机网络—系统方法》、华科电信计网教学PPT">
<meta property="og:type" content="article">
<meta property="og:title" content="计算机网络知识总结">
<meta property="og:url" content="https://sharp-rookie.github.io/2022/01/03/%E3%80%90%E7%9F%A5%E8%AF%86%E3%80%91%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E7%9F%A5%E8%AF%86%E7%82%B9/index.html">
<meta property="og:site_name" content="最忆是江南">
<meta property="og:description" content="计算机网络知识点总结   改自18级种子班“卢神”：计算机网络考试复习 参考：哈工大计网mooc、计算机网络博客、《计算机网络—系统方法》、华科电信计网教学PPT">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://my-picture-1311448338.file.myqcloud.com/img/20220103160706.png">
<meta property="og:image" content="https://my-picture-1311448338.file.myqcloud.com/img/20220103184648.png">
<meta property="og:image" content="https://my-picture-1311448338.file.myqcloud.com/img/20220102164253.png">
<meta property="og:image" content="https://my-picture-1311448338.file.myqcloud.com/img/20220103085634.png">
<meta property="og:image" content="https://my-picture-1311448338.file.myqcloud.com/img/20220102164610.png">
<meta property="og:image" content="https://my-picture-1311448338.file.myqcloud.com/img/20220102164642.png">
<meta property="og:image" content="https://my-picture-1311448338.file.myqcloud.com/img/20220103190907.png">
<meta property="og:image" content="https://my-picture-1311448338.file.myqcloud.com/img/20220104165049.png">
<meta property="og:image" content="https://my-picture-1311448338.file.myqcloud.com/img/20220104125432.jpg">
<meta property="og:image" content="https://my-picture-1311448338.file.myqcloud.com/img/20220104125445.jpg">
<meta property="og:image" content="https://my-picture-1311448338.file.myqcloud.com/img/20220103192043.png">
<meta property="og:image" content="https://my-picture-1311448338.file.myqcloud.com/img/20220103194708.png">
<meta property="og:image" content="https://my-picture-1311448338.file.myqcloud.com/img/20220103194833.png">
<meta property="og:image" content="https://my-picture-1311448338.file.myqcloud.com/img/20220103195035.png">
<meta property="og:image" content="https://my-picture-1311448338.file.myqcloud.com/img/20220103195154.png">
<meta property="og:image" content="https://my-picture-1311448338.file.myqcloud.com/img/20220102214759.png">
<meta property="og:image" content="https://my-picture-1311448338.file.myqcloud.com/img/20220103200424.png">
<meta property="og:image" content="https://my-picture-1311448338.file.myqcloud.com/img/20220103200819.png">
<meta property="og:image" content="https://my-picture-1311448338.file.myqcloud.com/img/20220103200844.png">
<meta property="og:image" content="https://my-picture-1311448338.file.myqcloud.com/img/20220103200907.png">
<meta property="og:image" content="https://my-picture-1311448338.file.myqcloud.com/img/20220103151136.png">
<meta property="og:image" content="https://my-picture-1311448338.file.myqcloud.com/img/20220103151200.png">
<meta property="og:image" content="https://my-picture-1311448338.file.myqcloud.com/img/20220103204529.png">
<meta property="og:image" content="https://my-picture-1311448338.file.myqcloud.com/img/20220103201722.png">
<meta property="og:image" content="https://my-picture-1311448338.file.myqcloud.com/img/20220103202238.png">
<meta property="og:image" content="https://my-picture-1311448338.file.myqcloud.com/img/20220103203815.png">
<meta property="og:image" content="https://my-picture-1311448338.file.myqcloud.com/img/20220102192243.png">
<meta property="og:image" content="https://my-picture-1311448338.file.myqcloud.com/img/20220103161327.png">
<meta property="og:image" content="https://my-picture-1311448338.file.myqcloud.com/img/20220102192351.png">
<meta property="og:image" content="https://my-picture-1311448338.file.myqcloud.com/img/20220103202252.png">
<meta property="og:image" content="https://my-picture-1311448338.file.myqcloud.com/img/20220103203849.png">
<meta property="og:image" content="https://my-picture-1311448338.file.myqcloud.com/img/20220103204012.png">
<meta property="og:image" content="https://my-picture-1311448338.file.myqcloud.com/img/20220103204146.png">
<meta property="og:image" content="https://my-picture-1311448338.file.myqcloud.com/img/20220103203220.png">
<meta property="og:image" content="https://my-picture-1311448338.file.myqcloud.com/img/20220103203238.png">
<meta property="og:image" content="https://my-picture-1311448338.file.myqcloud.com/img/20220103203742.png">
<meta property="og:image" content="https://my-picture-1311448338.file.myqcloud.com/img/20220103210353.png">
<meta property="og:image" content="https://my-picture-1311448338.file.myqcloud.com/img/20220102203719.png">
<meta property="og:image" content="https://my-picture-1311448338.file.myqcloud.com/img/20220103224755.png">
<meta property="og:image" content="https://my-picture-1311448338.file.myqcloud.com/img/20220103225225.png">
<meta property="og:image" content="https://my-picture-1311448338.file.myqcloud.com/img/20220103225357.png">
<meta property="og:image" content="https://my-picture-1311448338.file.myqcloud.com/img/20220102194429.png">
<meta property="og:image" content="https://my-picture-1311448338.file.myqcloud.com/img/20220102193852.png">
<meta property="og:image" content="https://my-picture-1311448338.file.myqcloud.com/img/20220102193926.png">
<meta property="og:image" content="https://my-picture-1311448338.file.myqcloud.com/img/20220103211555.png">
<meta property="og:image" content="https://my-picture-1311448338.file.myqcloud.com/img/20220103233916.png">
<meta property="og:image" content="https://my-picture-1311448338.file.myqcloud.com/img/20220103234630.png">
<meta property="og:image" content="https://my-picture-1311448338.file.myqcloud.com/img/20220103211115.png">
<meta property="og:image" content="https://my-picture-1311448338.file.myqcloud.com/img/20220103211204.png">
<meta property="og:image" content="https://my-picture-1311448338.file.myqcloud.com/img/20220104082156.png">
<meta property="og:image" content="https://my-picture-1311448338.file.myqcloud.com/img/20220104074943.png">
<meta property="og:image" content="https://my-picture-1311448338.file.myqcloud.com/img/20220104075700.png">
<meta property="og:image" content="https://my-picture-1311448338.file.myqcloud.com/img/20220104081701.png">
<meta property="og:image" content="https://my-picture-1311448338.file.myqcloud.com/img/20220104082122.png">
<meta property="og:image" content="https://my-picture-1311448338.file.myqcloud.com/img/20220103103928.png">
<meta property="og:image" content="https://my-picture-1311448338.file.myqcloud.com/img/20220103104114.png">
<meta property="og:image" content="https://my-picture-1311448338.file.myqcloud.com/img/20220103104156.png">
<meta property="og:image" content="https://my-picture-1311448338.file.myqcloud.com/img/20220103104222.png">
<meta property="og:image" content="https://my-picture-1311448338.file.myqcloud.com/img/20220103104634.png">
<meta property="og:image" content="https://my-picture-1311448338.file.myqcloud.com/img/20220103104904.png">
<meta property="og:image" content="https://my-picture-1311448338.file.myqcloud.com/img/20220103104547.png">
<meta property="og:image" content="https://my-picture-1311448338.file.myqcloud.com/img/20220103104827.png">
<meta property="og:image" content="https://my-picture-1311448338.file.myqcloud.com/img/20220103105116.png">
<meta property="og:image" content="https://my-picture-1311448338.file.myqcloud.com/img/20220103105245.png">
<meta property="og:image" content="https://my-picture-1311448338.file.myqcloud.com/img/20220103105333.png">
<meta property="og:image" content="https://my-picture-1311448338.file.myqcloud.com/img/20220103105529.png">
<meta property="og:image" content="https://my-picture-1311448338.file.myqcloud.com/img/20220104085055.png">
<meta property="og:image" content="https://my-picture-1311448338.file.myqcloud.com/img/20220104085338.png">
<meta property="og:image" content="https://my-picture-1311448338.file.myqcloud.com/img/20220104150405.jpg">
<meta property="og:image" content="https://my-picture-1311448338.file.myqcloud.com/img/20220103110934.png">
<meta property="og:image" content="https://my-picture-1311448338.file.myqcloud.com/img/20220103111123.png">
<meta property="og:image" content="https://my-picture-1311448338.file.myqcloud.com/img/20220104145741.jpg">
<meta property="og:image" content="https://my-picture-1311448338.file.myqcloud.com/img/20220103135749.png">
<meta property="og:image" content="https://my-picture-1311448338.file.myqcloud.com/img/20220103140400.png">
<meta property="og:image" content="https://my-picture-1311448338.file.myqcloud.com/img/20220104101322.png">
<meta property="og:image" content="https://my-picture-1311448338.file.myqcloud.com/img/20220104084242.png">
<meta property="og:image" content="https://my-picture-1311448338.file.myqcloud.com/img/20220104090244.png">
<meta property="og:image" content="https://my-picture-1311448338.file.myqcloud.com/img/20220104091156.png">
<meta property="og:image" content="https://my-picture-1311448338.file.myqcloud.com/img/20220104091222.png">
<meta property="og:image" content="https://my-picture-1311448338.file.myqcloud.com/img/20220104091516.png">
<meta property="og:image" content="https://my-picture-1311448338.file.myqcloud.com/img/20220104092709.png">
<meta property="og:image" content="https://my-picture-1311448338.file.myqcloud.com/img/20220104092448.png">
<meta property="og:image" content="https://my-picture-1311448338.file.myqcloud.com/img/20220103100722.png">
<meta property="og:image" content="https://my-picture-1311448338.file.myqcloud.com/img/20220105074604.png">
<meta property="og:image" content="https://my-picture-1311448338.file.myqcloud.com/img/20220104103543.png">
<meta property="og:image" content="https://my-picture-1311448338.file.myqcloud.com/img/20220104104349.png">
<meta property="og:image" content="https://my-picture-1311448338.file.myqcloud.com/img/20220104105042.png">
<meta property="og:image" content="https://my-picture-1311448338.file.myqcloud.com/img/20220104105153.png">
<meta property="og:image" content="https://my-picture-1311448338.file.myqcloud.com/img/20220103143429.png">
<meta property="og:image" content="https://my-picture-1311448338.file.myqcloud.com/img/20220103143712.png">
<meta property="og:image" content="https://my-picture-1311448338.file.myqcloud.com/img/20220103144059.png">
<meta property="og:image" content="https://my-picture-1311448338.file.myqcloud.com/img/20220103144605.png">
<meta property="og:image" content="https://my-picture-1311448338.file.myqcloud.com/img/20220104110059.png">
<meta property="og:image" content="https://my-picture-1311448338.file.myqcloud.com/img/20220103155836.png">
<meta property="og:image" content="https://my-picture-1311448338.file.myqcloud.com/img/20220104111337.png">
<meta property="og:image" content="https://my-picture-1311448338.file.myqcloud.com/img/20220103160151.png">
<meta property="og:image" content="https://my-picture-1311448338.file.myqcloud.com/img/20220103160126.png">
<meta property="article:published_time" content="2022-01-03T08:07:45.220Z">
<meta property="article:modified_time" content="2022-04-25T03:39:28.348Z">
<meta property="article:author" content="Lrk612">
<meta property="article:tag" content="计算机网络">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://my-picture-1311448338.file.myqcloud.com/img/20220103160706.png">

<link rel="canonical" href="https://sharp-rookie.github.io/2022/01/03/%E3%80%90%E7%9F%A5%E8%AF%86%E3%80%91%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E7%9F%A5%E8%AF%86%E7%82%B9/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-CN'
  };
</script>

  <title>计算机网络知识总结 | 最忆是江南</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>
        <a target="_blank" rel="noopener" href="https://github.com/Sharp-rookie" class="github-corner" aria-label="View source on GitHub"><svg width="80" height="80" viewBox="0 0 250 250" style="fill:#151513; color:#fff; position: absolute; top: 0; border: 0; right: 0;" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a><style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">最忆是江南</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">Love actually is all around</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th-list fa-fw"></i>分类</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a>

  </li>
        <li class="menu-item menu-item-papers">

    <a href="/papers/" rel="section"><i class="fa fa-book fa-fw"></i>论文阅读</a>

  </li>
        <li class="menu-item menu-item-friendlink">

    <a href="/friendlink/" rel="section"><i class="fa fa-link fa-fw"></i>友链</a>

  </li>
        <li class="menu-item menu-item-resources">

    <a href="/resources/" rel="section"><i class="fa fa-download fa-fw"></i>资源</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    
  <div class="reading-progress-bar"></div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://sharp-rookie.github.io/2022/01/03/%E3%80%90%E7%9F%A5%E8%AF%86%E3%80%91%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E7%9F%A5%E8%AF%86%E7%82%B9/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.png">
      <meta itemprop="name" content="Lrk612">
      <meta itemprop="description" content="Lrk's blog">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="最忆是江南">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          计算机网络知识总结
        </h1>

        <div class="post-meta">
         
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2022-01-03 16:07:45" itemprop="dateCreated datePublished" datetime="2022-01-03T16:07:45+08:00">2022-01-03</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E7%9F%A5%E8%AF%86%E5%88%86%E4%BA%AB/" itemprop="url" rel="index"><span itemprop="name">知识分享</span></a>
                </span>
            </span>

          
            <span id="/2022/01/03/%E3%80%90%E7%9F%A5%E8%AF%86%E3%80%91%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E7%9F%A5%E8%AF%86%E7%82%B9/" class="post-meta-item leancloud_visitors" data-flag-title="计算机网络知识总结" title="阅读次数">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span class="leancloud-visitors-count"></span>
            </span>
            <span class="post-meta-item" title="阅读次数" id="busuanzi_container_page_pv" style="display: none;">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span id="busuanzi_value_page_pv"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/2022/01/03/%E3%80%90%E7%9F%A5%E8%AF%86%E3%80%91%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E7%9F%A5%E8%AF%86%E7%82%B9/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2022/01/03/%E3%80%90%E7%9F%A5%E8%AF%86%E3%80%91%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E7%9F%A5%E8%AF%86%E7%82%B9/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <p>计算机网络知识点总结</p>
<img src="https://my-picture-1311448338.file.myqcloud.com/img/20220103160706.png" alt="20201001111251542" style="zoom: 50%;" />

<p>改自18级种子班“卢神”：<a target="_blank" rel="noopener" href="http://lwdreamofly.love/2020/11/28/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%A4%8D%E4%B9%A0/">计算机网络考试复习</a></p>
<p>参考：<a target="_blank" rel="noopener" href="https://www.icourse163.org/learn/HIT-154005?tid=1465409451#/learn/content">哈工大计网mooc</a>、<a target="_blank" rel="noopener" href="https://blog.csdn.net/lydms/article/details/106736730?ops_request_misc=%7B%22request_id%22:%22164118867316780261951158%22,%22scm%22:%2220140713.130102334..%22%7D&request_id=164118867316780261951158&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~top_positive~default-4-106736730.pc_search_insert_es_download_v2&utm_term=%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C&spm=1018.2226.3001.4187">计算机网络博客</a>、《计算机网络—系统方法》、华科电信计网教学PPT</p>
<span id="more"></span>

<p>&nbsp;</p>
<h1 id="1-计算机网络概述"><a href="#1-计算机网络概述" class="headerlink" title="1. 计算机网络概述"></a>1. 计算机网络概述</h1><h2 id="1-1-基本概念"><a href="#1-1-基本概念" class="headerlink" title="1.1 基本概念"></a>1.1 基本概念</h2><ul>
<li>计算机网络可以视为是 <code>计算机技术</code> 和 <code>通信技术</code> 的合成</li>
<li>计算机网络设计需求<ul>
<li>可拓展的连通性<ul>
<li>为每个结点定义一个地址，路由转发消息</li>
</ul>
</li>
<li>高性价比的资源共享<ul>
<li>分组交换而不是电路交换</li>
</ul>
</li>
<li>支持通用服务<ul>
<li>设计传输协议</li>
</ul>
</li>
<li>可管理性</li>
</ul>
</li>
<li>网络通信方式包括 <code>点到点</code> 、 <code>广播</code> 、 <code>点到多点</code> 、 <code>多点到多点</code></li>
<li>公用电话交换网（PSTN）中的交换设备提供 <code>电路交换</code> 方式</li>
<li>世界上第一个投入运行的分组交换网是 <code>ARPAnet</code></li>
<li><code>ARPAnet</code>是最早验证分组交换的网络之一</li>
<li>Internet起源于<code>ARPAnet</code></li>
<li>根据计算机网络的定义，其主要特征包括<code>支持计算机资源的共享</code>、<code>互联的计算机系统是自治的系统</code>、<code>联网的计算机系统之间需要遵循共同的网络协议</code></li>
<li>关于计算机网络的最简单定义是：一些相互连接的、以共享资源为目的的、自治的计算机的集合<ul>
<li>自治：无主从关系</li>
</ul>
</li>
<li>计算机网络按照网络规模大小可以分为：<code>PAN</code>、<code>LAN</code>、<code>MAN</code>、<code>WAN</code><ul>
<li>PAN：personal area network 个人区域网络<ul>
<li>无线连接：蓝牙、红外、NFC</li>
<li>有线连接：USB电缆</li>
<li>常用于传输小文件，如：音乐、照片、日历、约定等</li>
</ul>
</li>
<li>LAN：local area network 局域网<ul>
<li>基于广播技术发展而来</li>
<li>由一组设备组成，如：计算机+服务器+交换机+打印机、校园网、公司内网等</li>
<li>最常见的局域网类型是<code>以太网</code>，两台或多台计算机通过电缆连接到以太网交换机上</li>
</ul>
</li>
<li>MAN：metropolitan area network 城域网<ul>
<li>一种比校园网区域还大的网络</li>
<li>一种横跨一个城市或城镇的多个建筑的网络</li>
<li>通常使用高速连接，如：光缆</li>
<li>一种高速网路，能够在城市中共享数据和资源提供服务</li>
</ul>
</li>
<li>WAN：wide area network 广域网<ul>
<li>基于交换技术发展而来</li>
<li>WAN是最大的网络类型，一个WAN可以包含多个MAN、LAN、PAN</li>
</ul>
</li>
</ul>
</li>
<li>局域网LAN和广域网WAN的区别<ul>
<li>覆盖范围</li>
<li>协议</li>
</ul>
</li>
<li>网络分类方法：<code>局域网/广域网</code>、<code>有线网/无线网</code>、<code>环形网/星形网</code></li>
<li>常见的网络拓扑：<code>环形结构</code>、<code>总线结构</code>、<code>网状结构</code>、<code>星形结构</code>、<code>树形结构</code>、<code>混合性结构</code></li>
<li>网络结构<ul>
<li>网络边缘<ul>
<li>主机（端系统）、客户/服务器、对等（P2P）应用模型</li>
</ul>
</li>
<li>接入网络<ul>
<li>家庭接入网络、机构接入网络、</li>
<li>数字用户线路（DSL）、电缆网络、无线接入网络</li>
</ul>
</li>
<li>网络核心<ul>
<li>互联的路由器网络</li>
<li>关键功能：路由+转发</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="1-2-交换原理"><a href="#1-2-交换原理" class="headerlink" title="1.2 交换原理"></a>1.2 交换原理</h2><ul>
<li><p><code>虚电路</code>、<code>TCP</code>能提供面向连接的服务</p>
</li>
<li><p>三中交换方式：电路交换、报文交换、分组交换</p>
<img src="https://my-picture-1311448338.file.myqcloud.com/img/20220103184648.png" alt="image-20220103184648837" style="zoom:50%;" /></li>
<li><p>使用存储—转发技术的是：报文交换、分组交换</p>
</li>
</ul>
<h3 id="电路交换"><a href="#电路交换" class="headerlink" title="电路交换"></a>电路交换</h3><ul>
<li>在通信之前需要在通信双方间建立一条双方独占的物理信道，这个信道由双方之间的交换设备和链路逐段连接而建成的<ul>
<li>优点：<ul>
<li>带宽保证。数据直达，传输延迟小，具有很强的实时性</li>
<li>通信可靠。双方通信是有序的，不存在乱序问题，并且丢包概率低</li>
<li>路由机制简单。基于时分或频分复用，不需要进行数据包头部地址识别</li>
<li>既可以用于传输模拟信号，也可以用于传输数字信号</li>
<li>适用于实时和交互式通信</li>
</ul>
</li>
<li>缺点：<ul>
<li>建立连接平均时间较长，影响效率</li>
<li>对信道利用率低，建立的物理通路即使空闲仍占用通路</li>
<li>不同类型、规格、速率的终端难以相互进行通信，且易发生差错</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="报文交换"><a href="#报文交换" class="headerlink" title="报文交换"></a>报文交换</h3><ul>
<li><p>以<code>报文</code>为数据交换的单位，报文中携带目标地址、源地址等信息</p>
</li>
<li><p>优点：</p>
<ul>
<li>不存在建立时延，可以即时发送</li>
<li>当某条传输路径发生故障时能够自动选择另一条路径进行传输，提高了传输稳定性</li>
<li>即使不同类型、规格、速率的终端也可以实现通信</li>
<li>可以多目标发送</li>
<li>交换方式会自动建立数据传输的优先级，提高信道利用率</li>
</ul>
</li>
<li><p>缺点：</p>
<ul>
<li>数据交换结点需要经历存储、转发这个过程，所以会引起转发时延</li>
<li>只能用于数字信号</li>
</ul>
</li>
</ul>
<h3 id="分组交换"><a href="#分组交换" class="headerlink" title="分组交换"></a>分组交换</h3><ul>
<li><p>报文交换的升级版，仍采用<strong>存储转发</strong>的方式，但会将一个长报文先分割为若干个较短的分组，然后将短分组添加包头后逐个发送</p>
<ul>
<li>优点：<ul>
<li>不存在链路空闲时的带宽浪费，加速了数据的网络传输</li>
<li>简化了存储管理，从而减少了出错机率和重发数据量</li>
<li>由于其分组的特点，在优先级策略传输中更具优势</li>
<li>相较电路交换，更加适用于突发数据的传输</li>
</ul>
</li>
<li>缺点：<ul>
<li>时延问题仍存在，但得到减少</li>
<li>每个分组需要包含源地址和目的地址等信息的首部</li>
<li>存在乱序、分组丢失或重复问题</li>
<li>通信效率不高</li>
</ul>
</li>
</ul>
</li>
<li><p>报文交换以完整报文进行存储和转发，分组交换以分割后的报文分组进行存储和转发</p>
</li>
<li><p><strong>这里涉及报文交换和分组交换的时间计算题</strong></p>
<ul>
<li><p>分组交换时间计算：</p>
<img src="https://my-picture-1311448338.file.myqcloud.com/img/20220102164253.png" alt="image-20220102164253412" style="zoom: 33%;" /></li>
</ul>
</li>
<li><p>现有的公共数据网主要采用的技术是<code>分组交换</code>，包含：<code>数据报</code>、<code>信元交换</code>、<code>虚电路</code></p>
<ul>
<li><strong>信元交换</strong><ul>
<li>又叫做异步传输模式（Asynchronous Transfer Mode，ATM），是一种<strong>面向连接</strong>的快速分组交换技术，通过建立虚电路来进行数据传输</li>
</ul>
</li>
<li><strong>数据报服务</strong><ul>
<li>为网络层提供<strong>无连接方式</strong></li>
<li>无连接服务<ul>
<li>不事先为分组的传输确定一个具体的路径，每个分组会独立确定传输路径，不同分组传输路径可能不同</li>
<li>可能会乱序到达</li>
<li>主机<strong>不知道</strong>网络是否可以传送该分组</li>
</ul>
</li>
<li>发短消息时，数据报比虚电路报文分组交换甚至电路交换更快（不需要耗时建立连接）</li>
</ul>
</li>
<li><strong>虚电路服务</strong><ul>
<li>为网络层提供<strong>连接方式</strong></li>
<li>连接方式<ul>
<li>首先为分组的传输确定一个传输路径，即建立连接，然后沿着该连接对应的同一个传输路径传输系列分组</li>
</ul>
</li>
<li>健壮性不如数据报服务</li>
<li>分组不需要选择路由</li>
<li>电路交换需要在两站之间建立一条专用通路，但是虚电路服务不需要；虚电路的分组需要含电路号，但是电路交换不需要，电路交换不是分组</li>
</ul>
<img src="https://my-picture-1311448338.file.myqcloud.com/img/20220103085634.png" alt="image-20220103085633946" style="zoom: 33%;" />

<table>
<thead>
<tr>
<th></th>
<th>数据报服务</th>
<th>虚电路服务</th>
</tr>
</thead>
<tbody><tr>
<td>连接的建立</td>
<td>不需要</td>
<td>需要</td>
</tr>
<tr>
<td>目的地址</td>
<td>每个分组中都包含都有完整的目的地址</td>
<td>仅在建立连接时使用，之后每个分组使用长度较短的虚电路号判断路径即可，不需要包含目的地址</td>
</tr>
<tr>
<td>路由的选择</td>
<td>每个分组独立进行路由选择和转发</td>
<td>属于同一条虚电路所有分组按照同一路由转发</td>
</tr>
<tr>
<td>分组顺序</td>
<td>不保证分组有序到达</td>
<td>保证分组有序到达</td>
</tr>
<tr>
<td>可靠性</td>
<td>不保证可靠通信，可靠性由用户主机（更高层协议）保证</td>
<td>可靠性由网络保证</td>
</tr>
<tr>
<td>对网络故障的适应性</td>
<td>出故障的结点丢失分组，其他分组路径选择发生变化，可正常传输</td>
<td>所有经过故障结点的虚电路均不能正常工作</td>
</tr>
<tr>
<td>差错处理和流量控制</td>
<td>由用户主机进行流量控制，不保证数据报的可靠性</td>
<td>可由分组交换网负责，也可由用户主机负责</td>
</tr>
</tbody></table>
</li>
</ul>
</li>
</ul>
<h2 id="1-3-网络应用"><a href="#1-3-网络应用" class="headerlink" title="1.3 网络应用"></a>1.3 网络应用</h2><ul>
<li>计算机网络通信的显著特点：<code>间歇性</code>、<code>突发性</code></li>
<li>如果源端发送的每一个消息均希望被目的端接收，可以采用<code>请求/响应</code>的通信方式</li>
</ul>
<h2 id="1-4-网络体系架构"><a href="#1-4-网络体系架构" class="headerlink" title="1.4 网络体系架构"></a>1.4 网络体系架构</h2><h3 id="相关概念"><a href="#相关概念" class="headerlink" title="相关概念"></a>相关概念</h3><ul>
<li><p>实体（Entity）</p>
<ul>
<li>定义：构成网络系统各个层次的抽象对象</li>
<li>向高层提供服务</li>
<li>通过调用底层实体提供的服务与远程计算机的对等实体进行通信<ul>
<li>对等实体：网络中不同主机（结点）的相同层次之间互为对等实体</li>
</ul>
</li>
</ul>
</li>
<li><p>协议（Protocol）</p>
<ul>
<li>定义：两个或多个网络对等实体之间通信所需遵从的特定规则</li>
<li>是为进行网络的数据交换和网络通信而建立的规则、标准或约定</li>
<li>向上层实体提供服务</li>
<li>协议三要素：<strong>语法</strong>、<strong>语义</strong>、<strong>时序</strong><ul>
<li>语法：数据与控制信息的结构或格式、信号电平</li>
<li>语义：需要发出何种控制信息、完成何种动作以及做出何种响应、差错控制</li>
<li>时序：事件顺序、速度匹配</li>
</ul>
</li>
</ul>
</li>
<li><p>实体的接口（Interface）</p>
<ul>
<li>垂直（向上）：服务接口</li>
<li>水平（对端）：与远程计算机对等实体的对等接口</li>
</ul>
</li>
<li><p>同一系统相邻两层的实体进行交互的地方称为：<strong>服务访问点</strong></p>
</li>
<li><p>网络体系结构是网络层次结构和各层协议的集合</p>
</li>
<li><p>协议与服务</p>
<ul>
<li>协议的实现保证了能够向上一层提供服务，要实现本层协议还需要使用下面一层所提供的服务</li>
<li>在协议的控制下，两个对等实体间的通信使得本层能够向上一层提供服务</li>
<li>协议是水平的，即协议是控制对等实体间通信的规则</li>
<li>服务是垂直的，即服务是下层向上层通过层间接口提供的</li>
</ul>
</li>
</ul>
<h3 id="层次化网络体系结构"><a href="#层次化网络体系结构" class="headerlink" title="层次化网络体系结构"></a>层次化网络体系结构</h3><ul>
<li><p>计算机网络架构的分层</p>
<ul>
<li>每一层都实现一种相对独立的功能，降低大系统的复杂度</li>
<li>各层之间界面清晰，交互接口尽可能简单</li>
<li>下层对上层相对独立，上层调用下层提供的服务</li>
<li>各层的定义主要在功能方面，不应指定具体的实现方法</li>
</ul>
</li>
<li><p>计算机网络体系采用层次结构的主要原因</p>
<ul>
<li>使各层次的功能相对独立，使得各层次实现技术的进步不影响相邻层次，从而保证体系结构的完整性</li>
<li>层次结构的方法可以简化计算机网络的实现</li>
</ul>
</li>
<li><p>分层的实现</p>
<ul>
<li>封装<ul>
<li>通过封装，协议实体可以在分组中携带信息通告对等实体如何处理收到的分组</li>
<li>首部、尾部的加载和分离</li>
</ul>
</li>
<li>复用与解复用<ul>
<li>复用来自源结点不同高层实体的数据，将数据解复用至目的结点对应的高层实体</li>
<li>在发送端主机复用，在接收端主机解复用</li>
</ul>
</li>
</ul>
</li>
<li><p>下层协议的实现对上层的服务用户是透明的</p>
</li>
</ul>
<h3 id="OSI七层参考模型"><a href="#OSI七层参考模型" class="headerlink" title="OSI七层参考模型"></a>OSI七层参考模型</h3><ul>
<li><p>在 OSI 参考模型中，第 N 层是第 N+1 层的服务提供者</p>
</li>
<li><p>在分层网络模型中，第N层提供的服务是利用第N-1层提供的服务和第N层协议，与对等实体交换信息实现的</p>
</li>
<li><p><strong>OSI七层网络体系</strong></p>
<ul>
<li><table>
<thead>
<tr>
<th>层次（自顶向下）</th>
<th>功能</th>
<th>TCP/IP协议族</th>
</tr>
</thead>
<tbody><tr>
<td>应用层</td>
<td>为应用进程提供服务：文件传输、电子邮件、文件服务、虚拟终端</td>
<td>TFTP、HTTP、SNMP、DNS、Telnet等</td>
</tr>
<tr>
<td>表示层</td>
<td>数据格式转换、代码转换、数据加密</td>
<td>—</td>
</tr>
<tr>
<td>会话层</td>
<td>建立、管理和维护会话</td>
<td>—</td>
</tr>
<tr>
<td>传输层</td>
<td>建立、管理和维护端对端（进程间）的连接（可靠数据传输）</td>
<td>TCP、UDP</td>
</tr>
<tr>
<td>网络层</td>
<td>为数据包IP选址和路由</td>
<td>IP、ICMP、OSPF、EIGRP、IGMP等</td>
</tr>
<tr>
<td>数据链路层</td>
<td>帧传输及错误检测功能、提供介质访问和链路管理</td>
<td>SLIP、CSLIP、PPP、MTU</td>
</tr>
<tr>
<td>物理层</td>
<td>以二进制数据形式在物理媒介上传输数据</td>
<td>ISO2110、IEEE802、IEEE802.2</td>
</tr>
</tbody></table>
</li>
<li><p>示意图：</p>
<img src="https://my-picture-1311448338.file.myqcloud.com/img/20220102164610.png" alt="image-20220102164610829" style="zoom:33%;" /></li>
<li><p>数据封装与通信过程：</p>
<img src="https://my-picture-1311448338.file.myqcloud.com/img/20220102164642.png" alt="image-20220102164642039" style="zoom: 33%;" /></li>
<li><p><strong>物理层（Physical）</strong></p>
<ul>
<li>透明地传输原始比特流</li>
<li>定义物理设备的标准，如：网线的接口类型、光纤的接口类型、各种传输介质的传输速率等</li>
<li>规定：比特编码、数据率、比特同步方式、传输模式</li>
</ul>
</li>
<li><p><strong>数据链路层（Data Link）</strong></p>
<ul>
<li>负责物理链路上相邻结点间的数据传输</li>
<li>物理层比特流数据组合成帧并利用协议发送帧</li>
<li>控制对物理介质的访问 </li>
<li>提供差错检测/纠正、流量控制</li>
</ul>
</li>
<li><p><strong>网络层（Network）</strong></p>
<ul>
<li>负责源主机到目的主机的数据分组（packet）交付</li>
<li>定义了IP地址，通过IP进行逻辑寻址，遵循IP协议</li>
<li>在不同网络之间实现路由+转发（交换机、路由器）</li>
</ul>
</li>
<li><p><strong>传输层（Transport）</strong></p>
<ul>
<li>提供源主机到目的主机（端到端进程间）的完整报文传输服务</li>
<li>连接控制、流量控制、差错控制</li>
</ul>
</li>
<li><p><strong>会话层（Session）</strong></p>
<ul>
<li>建立和管理应用程序之间的通信</li>
<li>建立/解除与物理其他接口的联系</li>
</ul>
</li>
<li><p><strong>表示层（Presentation）</strong></p>
<ul>
<li>数据格式化、代码转换、数据加密、数据压缩</li>
<li>解决不同系统之间的通信语法问题</li>
</ul>
</li>
<li><p><strong>应用层（Application）</strong></p>
<ul>
<li>文件传输、电子邮件、文件服务、虚拟终端</li>
<li>传输的数据根据应用层的协议进行服务</li>
</ul>
</li>
<li><p><strong>记忆口诀</strong></p>
<ul>
<li><strong>P</strong>lease <strong>D</strong>o <strong>N</strong>ot <strong>T</strong>ell <strong>S</strong>tupid <strong>P</strong>eople <strong>A</strong>nything</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="TCP-IP四层体系结构"><a href="#TCP-IP四层体系结构" class="headerlink" title="TCP/IP四层体系结构"></a><strong>TCP/IP四层体系结构</strong></h3><ul>
<li><table>
<thead>
<tr>
<th>层次（自顶向下）</th>
<th>协议或组件</th>
</tr>
</thead>
<tbody><tr>
<td>应用层</td>
<td>HTTP、SMTP、DNS、FTP</td>
</tr>
<tr>
<td>运输层（传输层）</td>
<td>TCP、UDP</td>
</tr>
<tr>
<td>网际层（IP层）</td>
<td>IP</td>
</tr>
<tr>
<td>网络接口层（网络接入层）</td>
<td>网络接口</td>
</tr>
</tbody></table>
</li>
<li><p>瘦腰结构</p>
</li>
<li><p>解决计算机之间通信问题是在：网际层（对应网络层）</p>
</li>
<li><p>TCP/IP协议族的网络层提供的是：<strong>无连接不可靠的数据报服务</strong></p>
</li>
<li><p>物理层、数据链路层、网络层传送的数据单位分别为：<code>比特</code>、<code>帧</code>、<code>分组</code></p>
</li>
<li><p>对比OSI七层参考模型</p>
<img src="https://my-picture-1311448338.file.myqcloud.com/img/20220103190907.png" alt="image-20220103190906970" style="zoom:50%;" /></li>
<li><p>七层——四层——五层</p>
<p><img src="https://my-picture-1311448338.file.myqcloud.com/img/20220104165049.png" alt="image-20220104165049457"></p>
</li>
</ul>
<h3 id="几种物理设备"><a href="#几种物理设备" class="headerlink" title="几种物理设备"></a>几种物理设备</h3><table>
<thead>
<tr>
<th>设备</th>
<th>功能</th>
<th>层级</th>
</tr>
</thead>
<tbody><tr>
<td>中继器 RP</td>
<td>根据输入端的信号重新生成原始信号，再通过输出端传送出去，扩大网络传输的距离</td>
<td>L1</td>
</tr>
<tr>
<td>集线器 Hub</td>
<td>将网线集中到一起的机器，也就是多台主机和设备的连接器</td>
<td>L1</td>
</tr>
<tr>
<td>网桥 Bridge</td>
<td>根据数据帧内容转发数据给其他相邻的网络；过滤/转发数据帧，拓展LAN</td>
<td>L2</td>
</tr>
<tr>
<td>交换机 Switch</td>
<td>MAC寻址，将数据帧转发到另一个目标MAC地址。和网桥的升级，具有集线器一样的集中连接功能，又具有网桥的数据交换功能</td>
<td>L2</td>
</tr>
<tr>
<td>路由器 Router</td>
<td>IP寻址，将分组报文转发到另一个目标路由器地址</td>
<td>L3</td>
</tr>
<tr>
<td>网关 Gateway</td>
<td>在网络层以上实现网络互连，是最复杂的网络互连设备，仅用于两个高层协议不同的网络互连。网关既可以用于广域网互连，也可以用于局域网互连</td>
<td>&gt;L3</td>
</tr>
</tbody></table>
<ul>
<li><p>集线器的缺点是：<strong>不能过滤网络流量</strong></p>
</li>
<li><p>连接在集线器上的结点<strong>共享</strong>集线器带宽（均分），连接在交换机上的结点独占交换机带宽</p>
<img src="https://my-picture-1311448338.file.myqcloud.com/img/20220104125432.jpg" alt="img" style="zoom: 33%;" />

<img src="https://my-picture-1311448338.file.myqcloud.com/img/20220104125445.jpg" alt="img" style="zoom:33%;" /></li>
</ul>
<h2 id="1-5-网络性能评估"><a href="#1-5-网络性能评估" class="headerlink" title="1.5 网络性能评估"></a>1.5 网络性能评估</h2><h3 id="链路带宽"><a href="#链路带宽" class="headerlink" title="链路带宽"></a>链路带宽</h3><ul>
<li>指链路上每秒所能传输的比特数，单位bps</li>
<li>取决于链路时钟和信道编码</li>
<li>带宽往往大于吞吐量</li>
</ul>
<h3 id="时延"><a href="#时延" class="headerlink" title="时延"></a>时延</h3><ul>
<li><p>端到端时延</p>
<ul>
<li>将报文从网络一端传到另一端所花费的时间</li>
<li>= 处理时延 + 排队时延 + 传输时延 + 传播时延</li>
</ul>
</li>
<li><p>传输时延（发送时延）：</p>
<ul>
<li>主机或路由器发送数据帧所需的时间，即从帧的一个比特开始到最后一个比特发送完毕所需的时间</li>
<li>传输时延 = 分组长度 / 链路带宽</li>
</ul>
</li>
<li><p>传播时延</p>
<ul>
<li>电磁波在信道中传播一定距离所需的时间</li>
<li>与数据大小无关</li>
<li>传播时延 = 物理链路长度 / 电磁波传播速率（注意环境）</li>
</ul>
</li>
<li><p>处理时延</p>
<ul>
<li>主机或路由器在收到分组时分析首部、提取数据主体、差错检测等<strong>存储转发</strong>操作处理花费的时间</li>
</ul>
</li>
<li><p>排队时延</p>
<ul>
<li>分组通过网络传输时要经过很多路由器，进入路由器后要先输入队列中排队等待处理。在路由器确定了转发接口后还要在输出队列中等待转发</li>
</ul>
</li>
</ul>
<h3 id="时延带宽积"><a href="#时延带宽积" class="headerlink" title="时延带宽积"></a>时延带宽积</h3><ul>
<li>等效于第一个比特到达接收方之前，发送方可以发送的比特数上限</li>
<li>是网络中能够保持的最大比特数</li>
<li><img src="https://my-picture-1311448338.file.myqcloud.com/img/20220103192043.png" alt="image-20220103192042971" style="zoom:50%;" /></li>
</ul>
<h3 id="吞吐量"><a href="#吞吐量" class="headerlink" title="吞吐量"></a>吞吐量</h3><ul>
<li><p>单位时间内发送方和接收方之间成功传输的数据量</p>
</li>
<li><p>受到各种因素影响，吞吐量小于带宽，带宽10Mbps的链路一吞吐量可能只能达到2Mbps左右</p>
</li>
<li><p><strong>链路吞吐量</strong>为：A端结点、B端结点、通信线路三者吞吐量的最小值</p>
</li>
<li><p><strong>网络设备吞吐量</strong></p>
<ul>
<li>单位时间内，网络设备各端口存储转发的比特数之<strong>和</strong></li>
<li>取决于输入输出端口硬件和程序算法设计</li>
<li>是没有帧丢失时，设备能接收并转发的最大数据速率</li>
</ul>
</li>
<li><p>计算机网络最主要的性能指标：<code>带宽</code>、<code>时延</code></p>
</li>
</ul>
<p>&nbsp;</p>
<h1 id="2-物理层"><a href="#2-物理层" class="headerlink" title="2. 物理层"></a>2. 物理层</h1><h3 id="相关概念-1"><a href="#相关概念-1" class="headerlink" title="相关概念"></a>相关概念</h3><ul>
<li><p>网络适配器</p>
<ul>
<li>功能<ul>
<li>进行串行/并行转换</li>
<li>对数据进行缓存</li>
<li>设备驱动程序</li>
</ul>
</li>
<li>接口特性<ul>
<li>机械特性</li>
<li>电气特性</li>
<li>功能特性</li>
<li>规程特性</li>
</ul>
</li>
</ul>
</li>
<li><p><code>链路</code>：物理传输媒质</p>
</li>
<li><p>信息传输速率单位：<code>bps</code></p>
</li>
<li><p>码元传输速率单位：<code>波特（Baud, 1/s）</code></p>
</li>
<li><p>承载信息量的基本信号单位：<code>码元</code></p>
</li>
<li><p>通信系统必备的三个基本要素：<code>信源</code>、<code>通信媒介</code>、<code>信宿</code></p>
</li>
<li><p><code>调制速率</code>：每秒钟载波调制状态改变的数值，单位：波特，又称为波特率，即码元的传输速率</p>
</li>
<li><p><code>比特率</code>：数据的传输速率，单位：bps</p>
</li>
<li><p>两台设备之间实现通信必备：<code>网卡</code>、<code>传输媒介</code>、<code>协议</code></p>
</li>
<li><p>链路层的数据封装和解封都由<code>网卡</code>完成</p>
</li>
<li><p>常见通信方式：</p>
<ul>
<li><p>单工通信（Simplex Communication）</p>
<p>信息只能单方向传输，发送端和接收端是固定的</p>
</li>
<li><p>半双工通信（Half-duplex Communication）</p>
<p>可以对调发送端和接收端，但是不能同时双边互发信息</p>
</li>
<li><p>全双工通信（Full-duplex Communication）</p>
<p>任意时刻都可以在双向同时传输信息</p>
</li>
</ul>
</li>
</ul>
<h3 id="网络通信编码"><a href="#网络通信编码" class="headerlink" title="网络通信编码"></a>网络通信编码</h3><ul>
<li><p>不归零（NRZ）</p>
<ul>
<li>编码方式<ul>
<li>1——&gt;高电平</li>
<li>0——&gt;低电平</li>
</ul>
</li>
<li>问题<ul>
<li>连续的0可能被误认为没有信号</li>
<li>连续的1可能导致基线漂移</li>
<li>时钟恢复困难</li>
</ul>
</li>
<li><img src="https://my-picture-1311448338.file.myqcloud.com/img/20220103194708.png" alt="image-20220103194708738" style="zoom: 50%;" /></li>
</ul>
</li>
<li><p>不归零反转（NRZI）</p>
<ul>
<li>编码方式<ul>
<li>1——&gt;信号跳变</li>
<li>0——&gt;信号保持</li>
</ul>
</li>
<li>问题<ul>
<li>可以解决连续1的问题，但是不能解决连续0的问题</li>
</ul>
</li>
<li><img src="https://my-picture-1311448338.file.myqcloud.com/img/20220103194833.png" alt="image-20220103194833948" style="zoom:50%;" /></li>
</ul>
</li>
<li><p>曼彻斯特编码（Manchester）</p>
<ul>
<li>编码方式<ul>
<li>1——&gt;高到低跳变</li>
<li>0——&gt;低到高跳变</li>
</ul>
</li>
<li>问题<ul>
<li>信号跳变速率翻倍</li>
<li>比特率是信号跳变速率的一般，编码效率:50%</li>
</ul>
</li>
<li><img src="https://my-picture-1311448338.file.myqcloud.com/img/20220103195035.png" alt="image-20220103195035160" style="zoom:50%;" /></li>
</ul>
</li>
<li><p>4B/5B</p>
<ul>
<li>编码方式<ul>
<li>用5个比特对4个比特的数据进行编码, 其中每个代码(5个比特)中最多有1个前导0, 且末端最多有2个0</li>
<li>采用NRZI对5比特编码</li>
<li>编码效率：80%</li>
<li><img src="https://my-picture-1311448338.file.myqcloud.com/img/20220103195154.png" alt="image-20220103195154290" style="zoom: 67%;" /></li>
</ul>
</li>
</ul>
</li>
</ul>
<p>&nbsp;</p>
<h1 id="3-数据链路层"><a href="#3-数据链路层" class="headerlink" title="3. 数据链路层"></a>3. 数据链路层</h1><h2 id="3-1-相关概念"><a href="#3-1-相关概念" class="headerlink" title="3.1 相关概念"></a>3.1 相关概念</h2><ul>
<li><p>链路层在每台主机的网络适配器（网卡）上实现，或者集成在芯片上</p>
</li>
<li><p>网络适配器之间的通信</p>
<ul>
<li>发送端<ul>
<li>将分组封装为数据帧</li>
<li>增加差错检测、可靠传输、流量控制等功能</li>
</ul>
</li>
<li>接收端<ul>
<li>完成差错检测、实施可靠传输、流量控制等</li>
<li>提取分组并交付至上层协议</li>
</ul>
</li>
</ul>
</li>
<li><p>链路层服务：</p>
<ul>
<li>组帧（framing）<ul>
<li>封装数据报构成数据帧，加首部和尾部</li>
<li>帧同步</li>
</ul>
</li>
<li>链路接入（link access）<ul>
<li>如果是共享介质，需要解决信道接入问题</li>
<li>帧首部中的MAC地址用于标识帧的源和目的</li>
</ul>
</li>
<li>相邻节点间可靠交付</li>
<li>流量控制</li>
<li>差错检测</li>
</ul>
</li>
<li><p>MAC地址</p>
<ul>
<li>又称为LAN地址、物理地址、以太网地址</li>
<li>局域网中每块网卡都有一个唯一的MAC地址，是硬件设备的唯一标识</li>
<li>作用：用于局域网标识一个帧从哪个接口发出，到达哪个物理相连的其他接口</li>
<li>48位MAC地址固化在网卡的ROM中，一般不会软件改动</li>
</ul>
</li>
<li><p>ARP地址解析</p>
<ul>
<li>ARP表<ul>
<li>LAN中每个IP结点（主机、路由器）维护一个表，存储某些LAN结点的IP/MAC地址映射关系</li>
<li>经过TTL时间后遗弃此映射关系（一般是20min）</li>
</ul>
</li>
<li>ARP即插即用，结点自主广播ARP查询分组，获得对应IP的主机应答其MAC地址，创建ARP表，超时（TTL）会自动刷新，无需干预</li>
</ul>
</li>
<li><p>透明传输1：传输的数据内容、格式、编码方式无限制</p>
</li>
</ul>
<h3 id="组帧（帧定界问题）"><a href="#组帧（帧定界问题）" class="headerlink" title="组帧（帧定界问题）"></a>组帧（帧定界问题）</h3><ul>
<li>面向字节的协议<ul>
<li>把每一帧看作一个字节集合</li>
<li>两种方法<ul>
<li>字符计数法</li>
<li>起止标记法</li>
</ul>
</li>
</ul>
</li>
<li>面向比特的协议<ul>
<li>把数据帧看作比特的集合</li>
<li>高级链路控制规程（HDLC）</li>
</ul>
</li>
</ul>
<h3 id="以太网"><a href="#以太网" class="headerlink" title="以太网"></a>以太网</h3><ul>
<li><p>应用最广泛的LAN技术</p>
</li>
<li><p>网络速率:10Mbps——10Gbps</p>
</li>
<li><p>以太网的优点是：<code>可扩充性好</code>、<code>成本低</code>、<code>施工方便</code></p>
</li>
<li><p>以太网参考模型一般只包括：<code>物理层</code>和<code>数据链路层</code></p>
</li>
<li><p>以太网的碰撞窗口或争用期为：<strong>往返时延</strong></p>
</li>
<li><p>不可靠的服务：差错帧直接丢弃，丢弃帧中数据的恢复依靠高层协议（<strong>无确认</strong>）</p>
</li>
<li><p><strong>无连接</strong>的服务：发送帧的网卡与接受帧的网卡没有握手过程</p>
</li>
<li><p>MAC协议：二进制指数退避算法的CSMA/CD（不是必须）</p>
<ul>
<li>检测到冲突中止发送后，进入二进制指数退避</li>
</ul>
</li>
<li><p>以太网交换机：</p>
<ul>
<li>是链路层设备<ul>
<li>存储—转发以太网帧</li>
<li>检验到达帧的目的MAC地址，选择向一个或多个输出链路转发帧</li>
<li>利用CSMA/CD访问链路，发送帧</li>
</ul>
</li>
<li>透明：主机感受不到交换机的存在</li>
<li>即插即用</li>
<li>自学习，无需配置（目的帧不在交换表中时泛洪查找）</li>
<li>全双工通信</li>
<li>注意，交换机使用泛洪构建转发表；路由器则通过路由算法计算IP转发表</li>
<li>洪泛法的基本思想是：收到的信息都会往所有可能连接的路径上转发</li>
</ul>
</li>
<li><p>虚拟局域网VLAN：</p>
<ul>
<li>VLAN（Virtual Local Area Network）是由一些局域网网段构成的与物理位置无关的逻辑组</li>
<li>利用以太网交换机可以很方便地实现 VLAN</li>
<li>每一个 VLAN 的工作站可处在不同的局域网中</li>
</ul>
</li>
</ul>
<h3 id="无线局域网-IEEE802-11"><a href="#无线局域网-IEEE802-11" class="headerlink" title="无线局域网 IEEE802.11"></a>无线局域网 IEEE802.11</h3><ul>
<li><p>无线链路特性</p>
<ul>
<li>信号强度递减（路径损耗）</li>
<li>其他信号源干扰（各种频段）</li>
<li>多径传播（乱序到达）</li>
<li>隐藏终端问题（中间隔着障碍物）</li>
</ul>
</li>
<li><img src="https://my-picture-1311448338.file.myqcloud.com/img/20220102214759.png" alt="image-20220102214759049" style="zoom:33%;" /></li>
<li><p>均使用CSMA/CA多路访问控制协议</p>
</li>
<li><p><strong>截断二进制指数</strong>类型退避算法解决了：站点检测到冲突后延迟发送的时间</p>
</li>
<li><p>无线局域网不使用<code>CSMA/CD</code>，而使用<code>CSMA/CA</code>是因为无线局域网：并非所有站点都能听见对方、无线介质传输特征复杂，存在隐藏终端、暴露终端等问题</p>
</li>
<li><p>无线通信网中，应对隐藏终端、暴露终端问题的方法是：<code>RTS/CTS 机制</code>（CSMA/CA）</p>
</li>
<li><p>无线局域网：</p>
<ul>
<li>无线局域网可分为两大类，即有固定基础设施的和无固定基础设施的</li>
<li>无固定基础设施的无线局域网又叫做自组织(AD HOC)网络</li>
<li>有固定基础设施的无线局域网，使用无线接入点（AP）作为基础设施</li>
</ul>
</li>
<li><p>无线局域网主要采用了<strong>预约信道</strong>方法解决数据帧的碰撞问题</p>
</li>
</ul>
<h3 id="网桥与交换机"><a href="#网桥与交换机" class="headerlink" title="网桥与交换机"></a>网桥与交换机</h3><ul>
<li>网桥<ul>
<li>实现：<code>过滤数据帧</code>、<code>转发数据帧</code>、<code>拓展LAN</code>功能</li>
<li>工作在<strong>数据链路层</strong></li>
<li>可以访问同一个网络中站点的<strong>物理</strong>地址</li>
<li>透明网桥是通过查找端口—地址表来决定转发路径的，而端口—地址表是网桥通过<strong>自学习算法</strong>生成的</li>
<li>通过将帧中的<strong>目的结点的物理地址</strong>和自己地址表中的信息比较，实现帧的转发和过滤</li>
</ul>
</li>
<li>交换机根据<code>数据报</code>、<code>虚电路</code>、<code>源路由</code>选择分组转发时的输出端口</li>
</ul>
<h2 id="3-2-差错检测"><a href="#3-2-差错检测" class="headerlink" title="3.2 差错检测"></a>3.2 差错检测</h2><ul>
<li><p>二维奇偶校验</p>
<ul>
<li>奇偶校验码可以检查出奇数个比特错误</li>
<li><img src="https://my-picture-1311448338.file.myqcloud.com/img/20220103200424.png" alt="image-20220103200424868" style="zoom:50%;" /></li>
</ul>
</li>
<li><p>循环冗余校验（CRC）</p>
<ul>
<li><p>M(x)</p>
<img src="https://my-picture-1311448338.file.myqcloud.com/img/20220103200819.png" alt="image-20220103200819939" style="zoom:50%;" /></li>
<li><p>C(x)</p>
<img src="https://my-picture-1311448338.file.myqcloud.com/img/20220103200844.png" alt="image-20220103200844704" style="zoom:50%;" /></li>
<li><p>P(x)</p>
<img src="https://my-picture-1311448338.file.myqcloud.com/img/20220103200907.png" alt="image-20220103200907613" style="zoom:50%;" /></li>
<li><p>判错条件：接收方判断P(x)是否可以整除C(x)</p>
</li>
<li><p>不同C(x)可以检测出特定的比特错误：</p>
<ul>
<li><p>所有1 &amp; 2-比特的错误</p>
</li>
<li><p>任意奇数个错误</p>
</li>
<li><p>任何小于k 比特的连续比特错误序列</p>
</li>
<li><p>部分大于 k 比特的连续比特错误序列</p>
</li>
</ul>
</li>
</ul>
</li>
<li><p>Internet校验和</p>
<ul>
<li>计算接受数据的校验和，并与发来的校验和字段内容比较是否一致</li>
<li><img src="https://my-picture-1311448338.file.myqcloud.com/img/20220103151136.png" alt="image-20220103151136608" style="zoom: 33%;" /></li>
<li><img src="https://my-picture-1311448338.file.myqcloud.com/img/20220103151200.png" alt="image-20220103151200255" style="zoom:33%;" /></li>
</ul>
</li>
</ul>
<h2 id="3-3-可靠传输机制"><a href="#3-3-可靠传输机制" class="headerlink" title="3.3 可靠传输机制"></a>3.3 可靠传输机制</h2><ul>
<li><p>基本方法：<code>确认ACK</code>、<code>定时器超时</code>、<code>帧序号</code></p>
</li>
<li><p>核心机制：<code>差错检测CRC</code>、<code>ACK确认</code>、<code>定时器</code>、<code>超时重传</code>、<code>帧序号</code>、<code>滑动窗口</code></p>
<img src="https://my-picture-1311448338.file.myqcloud.com/img/20220103204529.png" alt="image-20220103204529325" style="zoom:50%;" /></li>
</ul>
<h3 id="自动请求重传（ARQ）机制"><a href="#自动请求重传（ARQ）机制" class="headerlink" title="自动请求重传（ARQ）机制"></a>自动请求重传（ARQ）机制</h3><ul>
<li>采用ACK确认和超时定时器的可靠传输机制</li>
<li>接收方<ul>
<li>对数据帧进行差错检测</li>
<li>对正确帧进行确认, 丢失错误帧</li>
<li>丢弃禁止接收的数据帧</li>
</ul>
</li>
<li>发送方<ul>
<li>发送原始数据帧</li>
<li>对错误帧和丢失帧进行重传</li>
</ul>
</li>
</ul>
<h3 id="停止等待协议"><a href="#停止等待协议" class="headerlink" title="停止等待协议"></a>停止等待协议</h3><ul>
<li><p>最简单的ARQ机制</p>
</li>
<li><p>内容</p>
<ul>
<li>每发送完一个数据帧, 发送方在继续发送下一个数据帧之前必须等待确认</li>
<li>如果在一定的时间范围内，发送方未收到确认(ACK), 则发送定时器超时激发, 发送方重传原始数据帧</li>
</ul>
</li>
<li><p>两种不同的帧丢失情况</p>
<img src="https://my-picture-1311448338.file.myqcloud.com/img/20220103201722.png" alt="image-20220103201722314" style="zoom:50%;" /></li>
<li><p>使用帧序号的目的是<strong>处理重复帧</strong></p>
</li>
<li><p>缺点</p>
<ul>
<li>链路带宽利用率低</li>
</ul>
</li>
</ul>
<h3 id="连续ARQ协议"><a href="#连续ARQ协议" class="headerlink" title="连续ARQ协议"></a>连续ARQ协议</h3><ul>
<li>采取流水线设计，允许未收到确认，连续发送数据帧</li>
</ul>
<h4 id="后退N帧（Go-Back-N）"><a href="#后退N帧（Go-Back-N）" class="headerlink" title="后退N帧（Go-Back-N）"></a>后退N帧（Go-Back-N）</h4><ul>
<li><p>内容</p>
<ul>
<li><p>一次性发送N个数据帧</p>
</li>
<li><p>接收方收到新数据帧时回传连续序号帧中的最大序号值（未必是当前接收帧的序号，因为可能是后发先到乱序 或者 前面有丢包）</p>
</li>
<li><p>如果第k个帧丢失, 对[k, k+N-1]范围内的所有帧重传</p>
<img src="https://my-picture-1311448338.file.myqcloud.com/img/20220103202238.png" alt="image-20220103202238229" style="zoom:50%;" /></li>
</ul>
</li>
<li><p>优点: 接收方不需要缓存接收到的乱序帧，确认简单</p>
</li>
<li><p>缺点: 正确帧也可能被重传，效率较低</p>
</li>
<li><p>示例</p>
<img src="https://my-picture-1311448338.file.myqcloud.com/img/20220103203815.png" alt="image-20220103203815365" style="zoom:67%;" /></li>
<li><p>例题：</p>
<ul>
<li><p>两台主机之间的数据链路层采用后退 N 帧协议传输数据，数据传输速率为 16kbps，单</p>
<p>向传播时延为 270ms，数据帧长度范围是 128-512 字节，接收方总是以与数据帧等长</p>
<p>的帧进行确认，为使信道利用率达到最高，帧序列的比特数至少为多少？</p>
<p>答：</p>
<p>&emsp;&emsp;即求从发送一个帧到接收到这个帧的确认为止的时间内最多可以发送数据帧的数量，对这个数量进行二进制编码所需的位数。</p>
<p>要尽可能多发帧，应以短的数据帧（传输时延短，发的快）计算，首先计算出发送一帧的时间：</p>
<img src="https://my-picture-1311448338.file.myqcloud.com/img/20220102192243.png" alt="image-20220102192243529" style="zoom:50%;" />

<p>发送一帧到收到确认的时间：</p>
<img src="https://my-picture-1311448338.file.myqcloud.com/img/20220103161327.png" alt="image-20220103161327331" style="zoom: 67%;" />

<p>这段时间总共可以发送：</p>
<img src="https://my-picture-1311448338.file.myqcloud.com/img/20220102192351.png" alt="image-20220102192351213" style="zoom:50%;" />

<p>发送10个左右的帧，编号至少需要4位二进制数，因此至少4比特。</p>
</li>
</ul>
</li>
</ul>
<h4 id="选择性重传（SR）"><a href="#选择性重传（SR）" class="headerlink" title="选择性重传（SR）"></a>选择性重传（SR）</h4><ul>
<li><p>内容</p>
<ul>
<li><p>一次性发送N个数据帧</p>
</li>
<li><p>如果第k个帧丢失, 仅重传第k个帧</p>
</li>
<li><p>接收方对每一个帧进行确认</p>
<img src="https://my-picture-1311448338.file.myqcloud.com/img/20220103202252.png" alt="image-20220103202252901" style="zoom:50%;" /></li>
</ul>
</li>
<li><p>优点: 链路利用率较高</p>
</li>
<li><p>缺点: 接收方更复杂</p>
</li>
<li><p><strong>发送窗口大小 == 接收窗口大小</strong></p>
</li>
<li><p>示例</p>
<img src="https://my-picture-1311448338.file.myqcloud.com/img/20220103203849.png" alt="image-20220103203849702" style="zoom:67%;" /></li>
<li><p>存在问题</p>
<ul>
<li><p>无法区分：</p>
<img src="https://my-picture-1311448338.file.myqcloud.com/img/20220103204012.png" alt="image-20220103204012029" style="zoom:50%;" /></li>
<li><p>解决方法：（k为序号比特位数）</p>
<img src="https://my-picture-1311448338.file.myqcloud.com/img/20220103204146.png" alt="image-20220103204146783" style="zoom:50%;" /></li>
</ul>
</li>
</ul>
<h3 id="滑动窗口协议"><a href="#滑动窗口协议" class="headerlink" title="滑动窗口协议"></a>滑动窗口协议</h3><ul>
<li><p>引入滑动窗口对收发行为进行控制</p>
</li>
<li><p>基本思路</p>
<ul>
<li><p>发送方</p>
<ul>
<li><p>发送窗口大小：发送方在未收到确认前能够发送的数据帧的最大个数</p>
</li>
<li><p>发送方在未收到确认前最多可以发送多个数据帧 (受限于 发送窗口大小)</p>
</li>
<li><p>对未确认的数据帧缓存</p>
<img src="https://my-picture-1311448338.file.myqcloud.com/img/20220103203220.png" alt="image-20220103203220318" style="zoom:50%;" /></li>
</ul>
</li>
<li><p>接收方</p>
<ul>
<li><p>接收窗口大小：接收方所能接收的乱序期望数据帧的最大个数</p>
</li>
<li><p>接收方通过ACK告知发送方下一次期望其传送的数据帧编号, 避免每次收到数据帧都发送确认</p>
<img src="https://my-picture-1311448338.file.myqcloud.com/img/20220103203238.png" alt="image-20220103203238050" style="zoom:50%;" /></li>
</ul>
</li>
</ul>
</li>
<li><p>接收方行为</p>
<ul>
<li>接收数据帧<ul>
<li>如果一个数据帧到达(帧序号为SeqNum )</li>
<li>如果SeqNum ≤ LFR 或SeqNum &gt; LAF<ul>
<li>n数据帧落在接收窗口外, 则丢弃该数据帧</li>
</ul>
</li>
<li>如果LFR &lt; SeqNum ≤ LAF<ul>
<li>数据帧落在接收窗口内, 则接收</li>
</ul>
</li>
</ul>
</li>
<li>回复ACK<ul>
<li>SeqNumToAck = 未确认数据帧的最大SeqNum</li>
<li>接收方进确认 SeqNumToAck之前的数据帧, 即使更大序号的数据已接收</li>
<li>设置LFR = SeqNumToAck , 调整LAF = LFR + RWS</li>
</ul>
</li>
</ul>
</li>
<li><p>示例</p>
<img src="https://my-picture-1311448338.file.myqcloud.com/img/20220103203742.png" alt="image-20220103203742576" style="zoom: 67%;" /></li>
<li><p>优点</p>
<ul>
<li>不仅保证帧在物理链路上的可靠传输</li>
<li>而且保证帧传输的顺序</li>
<li>支持流量控制，接收方通过反馈机制可以抑制发送方速率</li>
</ul>
</li>
</ul>
<h2 id="3-4-媒质接入控制（MAC协议）"><a href="#3-4-媒质接入控制（MAC协议）" class="headerlink" title="3.4 媒质接入控制（MAC协议）"></a>3.4 媒质接入控制（MAC协议）</h2><ul>
<li>解决多路访问问题的前提是：<strong>寻址</strong></li>
</ul>
<h3 id="静态信道划分MAC协议"><a href="#静态信道划分MAC协议" class="headerlink" title="静态信道划分MAC协议"></a>静态信道划分MAC协议</h3><ul>
<li>多路复用技术<ul>
<li>时分复用（TDMA）</li>
<li>频分复用（FDMA）</li>
<li>码分复用（CDMA）</li>
<li>……</li>
</ul>
</li>
<li>网络负载重时效率高、公平，负载轻时效率低</li>
</ul>
<h3 id="随机访问MAC协议"><a href="#随机访问MAC协议" class="headerlink" title="随机访问MAC协议"></a>随机访问MAC协议</h3><ul>
<li>基本思想及特点<ul>
<li>信道不划分，允许冲突</li>
<li>采用冲突“恢复”机制</li>
<li>网络负载轻时效率高，负载重时冲突严重</li>
</ul>
</li>
</ul>
<h4 id="ALOHA"><a href="#ALOHA" class="headerlink" title="ALOHA"></a>ALOHA</h4><ul>
<li>内容<ul>
<li>一旦数据帧到达, 立即发送 </li>
<li>如果发生冲突, 节点等待随机时间后重发数据直到发送成功</li>
</ul>
</li>
<li>效率 = 0.18</li>
</ul>
<h4 id="时隙ALOHA"><a href="#时隙ALOHA" class="headerlink" title="时隙ALOHA"></a>时隙ALOHA</h4><ul>
<li>内容<ul>
<li>当节点获得新的数据帧, 等待下一时隙到达开始发送</li>
<li>如果不存在冲突: 节点可以在下一时隙到达发送新的数据帧</li>
<li>如果发生冲突: 节点以概率p在每一个后续时隙内发送数据直到发送成功</li>
</ul>
</li>
<li>优点<ul>
<li>一个活跃节点可以持续以全速(信道带宽)发送数据帧</li>
<li>高度去中心化: 不需要中央调度</li>
<li>简单</li>
</ul>
</li>
<li>缺点<ul>
<li>存在冲突, 浪费时隙</li>
<li>存在空闲时隙</li>
<li>节点可能花费较长的时间进行冲突监测与退避重传</li>
<li>要求时钟同步</li>
</ul>
</li>
<li>效率 = 0.37</li>
</ul>
<h4 id="CSMA"><a href="#CSMA" class="headerlink" title="CSMA"></a>CSMA</h4><h5 id="普通CSMA"><a href="#普通CSMA" class="headerlink" title="普通CSMA"></a>普通CSMA</h5><ul>
<li><p>载波监听多路访问（Carrier Sensing Multiple Access）</p>
</li>
<li><p>内容</p>
<ul>
<li>发送前监听信道</li>
<li>如果信道空闲, 发送整个数据帧</li>
<li>如果信道忙, 延迟发送 </li>
</ul>
</li>
<li><p>冲突</p>
<ul>
<li><p>传播时延导致两个结点无法监听到对方的发送</p>
</li>
<li><p>导致整个数据帧被浪费</p>
<img src="https://my-picture-1311448338.file.myqcloud.com/img/20220103210353.png" alt="image-20220103210353350" style="zoom: 33%;" /></li>
</ul>
</li>
</ul>
<h5 id="CSMA-CD"><a href="#CSMA-CD" class="headerlink" title="CSMA/CD"></a>CSMA/CD</h5><ul>
<li><p>要点：<code>冲突检测</code>、<code>多点接入</code>、<code>载波监听</code></p>
</li>
<li><p>机制：<strong>争用带宽</strong></p>
</li>
<li><p>内容</p>
<ul>
<li><p>边发边听，听到马上停止发送以减少信道浪费；不发就不听</p>
</li>
<li><p>有线局域网易实现；无线局域网难以实现（接收信号强度太低，无法与噪声区分）</p>
</li>
<li><p>为保证不发生碰撞，在传输时间内必须能收到最远端主机发送的信号（见下面最差冲突情况），即：</p>
<img src="https://my-picture-1311448338.file.myqcloud.com/img/20220102203719.png" alt="image-20220102203719361" style="zoom: 25%;" /></li>
</ul>
</li>
<li><p>冲突</p>
<ul>
<li><p>结点检测数据帧发送过程中是否发生冲突</p>
</li>
<li><p>如果发生冲突，则立即停止发送当前帧，改发送冲突信号广播通知其他结点，然后进行退避处理</p>
<img src="https://my-picture-1311448338.file.myqcloud.com/img/20220103224755.png" alt="image-20220103224755596" style="zoom: 50%;" /></li>
<li><p><strong>二进制退避算法</strong></p>
<ul>
<li>第k次冲突，则选择{0,1,2,…,2^k-1}中随机选择一个数乘以512bit，这个值对应的时延作为本次退避的等待时间</li>
<li>512bit对应51.2us，这是最初时最大覆盖以太网(2500米)往返最大时延</li>
</ul>
</li>
<li><p>冲突的最差情况</p>
<img src="https://my-picture-1311448338.file.myqcloud.com/img/20220103225225.png" alt="image-20220103225225595" style="zoom: 67%;" /></li>
</ul>
</li>
<li><p>效率</p>
<img src="https://my-picture-1311448338.file.myqcloud.com/img/20220103225357.png" alt="image-20220103225357197" style="zoom:50%;" /></li>
<li><p><strong>以太网</strong>MAC协议用的就是这个</p>
</li>
<li><p>计算题</p>
<p>在一个采用CSMA/CD协议的网络中，传输介质是一根完整的电缆，传输速率为1Gbps，电缆中的信号传播速度是200000km/s。若最小数据帧长度减少800比特，则最远的两个站点之间的距离至少需要______？</p>
<p>答：</p>
<p>&emsp;&emsp;本题隐藏条件是应该在最坏情况下计算，这样才能保证一定免数据帧冲突问题：（）</p>
<img src="https://my-picture-1311448338.file.myqcloud.com/img/20220102194429.png" alt="image-20220102194429684" style="zoom:50%;" />



<p>&emsp;&emsp;设传输线路的长度是L，那么信号在电缆中传输一个来回的时间是：</p>
<img src="https://my-picture-1311448338.file.myqcloud.com/img/20220102193852.png" alt="image-20220102193852730" style="zoom:50%;" />

<p>&emsp;&emsp;设最短帧长度是：（最短帧长度 = 传播一个来回时间 * 传输速率）</p>
<img src="https://my-picture-1311448338.file.myqcloud.com/img/20220102193926.png" alt="image-20220102193926664" style="zoom:50%;" />

<p>&emsp;&emsp;所以如果MIN减小了800bit，则对应L需要<strong>减小80m</strong>。</p>
<p>&emsp;&emsp;标准答案：</p>
<img src="https://my-picture-1311448338.file.myqcloud.com/img/20220103211555.png" alt="image-20220103211555710" style="zoom: 50%;" /></li>
</ul>
<h5 id="CSMA-CA"><a href="#CSMA-CA" class="headerlink" title="CSMA/CA"></a>CSMA/CA</h5><ul>
<li><p>机制：<strong>预约带宽</strong></p>
</li>
<li><p>思想</p>
<ul>
<li>无线信道传输存在隐藏终端和信道衰落问题，导致难以进行碰撞检测</li>
<li>与CSMA/CD不同，CSMA/CA目标不是监测碰撞，而是避免碰撞</li>
</ul>
</li>
<li><p>内容</p>
<ul>
<li><p>发送端</p>
<ul>
<li>如果监听到信道空闲<ul>
<li>将在一个被称作分布式帧间间隔（DIFS）的短时间段后发送该帧</li>
</ul>
</li>
<li>如果监听到信道正忙 <ul>
<li>选取一个随机回退值计时</li>
<li>当信道空闲时递减该值</li>
<li>当计数值减为0时，该站点发送整个数据帧并等待确认</li>
<li>如果未收到确认，增加回退值，重复第2步</li>
</ul>
</li>
</ul>
</li>
<li><p>接收端</p>
<ul>
<li>如果数据帧接收成功<ul>
<li>在SIFS时间后返回确认信息（确认信息在隐藏终端问题中是必须的）</li>
</ul>
</li>
</ul>
<img src="https://my-picture-1311448338.file.myqcloud.com/img/20220103233916.png" alt="image-20220103233916031" style="zoom:50%;" /></li>
<li><p>虚拟载波监听（预约信道）</p>
<ul>
<li><p>在发送数据帧之前交换控制信息</p>
<ul>
<li><p>发送方 询问 “Request-to-Send” (RTS)，包括数据帧长度</p>
</li>
<li><p>接收方 广播 “Clear-to-Send” (CTS)</p>
</li>
</ul>
</li>
<li><p>如果发送方收到 CTS，则开始发送数据 (指定长度)</p>
</li>
<li><p>其他节点收到 CTS，则认定信道在指定长度数据帧发送期间处于繁忙状态</p>
</li>
<li><p>如果多个节点同时检测到一个空闲链路并试图发送一个RTS，那么他们的RTS帧将彼此冲突。当发送端在一段时间内没有收到CTS帧时，节点知道发生冲突，会<strong>等待一段随机时间后</strong>再试</p>
</li>
<li><p>RTS、CTS都很短，因此开销小，并且可以完全避免数据帧碰撞</p>
<img src="https://my-picture-1311448338.file.myqcloud.com/img/20220103234630.png" alt="image-20220103234630447" style="zoom:50%;" /></li>
</ul>
</li>
</ul>
</li>
<li><p><strong>无线局域网</strong>MAC协议用的就是这个</p>
<ul>
<li>不使用<code>CSMA/CD</code>，而使用<code>CSMA/CA</code>的原因<ul>
<li>无线信道传输中并非所有站点都能听见对方、无线介质传输特征复杂，无线信道传输存在隐藏终端、暴露终端等问题</li>
<li>无线信道传输难以同时收发，接收信号强度明显弱于发送信号</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="轮转MAC协议"><a href="#轮转MAC协议" class="headerlink" title="轮转MAC协议"></a>轮转MAC协议</h3><ul>
<li><p>特点</p>
<ul>
<li>结点轮流发送</li>
<li>待发送数据量大的节点占用信道更长时间</li>
<li>无冲突</li>
</ul>
</li>
<li><p>方式一：轮询</p>
<ul>
<li><p>主节点 “邀请” 从节点轮流发送数据</p>
</li>
<li><p>典型应用于“dumb” 从设备</p>
</li>
<li><p>关注点：轮询开销、时延、主节点失效</p>
<img src="https://my-picture-1311448338.file.myqcloud.com/img/20220103211115.png" alt="image-20220103211115624" style="zoom:50%;" /></li>
</ul>
</li>
<li><p>方式二：令牌传递</p>
<ul>
<li><p>控制<strong>令牌</strong>在节点之间依序传递.</p>
</li>
<li><p>令牌帧</p>
</li>
<li><p>关注点：令牌开销、时延、令牌丢失</p>
<img src="https://my-picture-1311448338.file.myqcloud.com/img/20220103211204.png" alt="image-20220103211204403" style="zoom:50%;" /></li>
<li><p>例：蓝牙、FDDI、令牌环网</p>
</li>
</ul>
</li>
</ul>
<h2 id="3-5-其他知识点"><a href="#3-5-其他知识点" class="headerlink" title="3.5 其他知识点"></a>3.5 其他知识点</h2><ul>
<li>IEEE802将数据链路层划分为两个子层，上为：<code>LLC</code>、下为：<code>MAC</code><ul>
<li>IEEE802 又称为LMSC（LAN /MAN Standards Committee， 局域网/城域网标准委员会），致力于研究局域网和城域网的物理层和MAC层中定义的服务和协议，对应OSI网络参考模型的最低两层（即物理层和数据链路层）</li>
<li>IEEE802系列标准把数据链路层分成LLC（Logical Link Control，逻辑链路控制）和MAC（Media Access Control，媒介接入控制）两个子层。LLC子层在IEEE802.2标准中定义，为802标准系列共用；而MAC子层协议则依赖于各自的物理层</li>
</ul>
</li>
<li>10Mb/s和100Mb/s自适应系统是指：端口之间10Mb/s和100Mb/s传输率的自动匹配功能</li>
<li>局域网采用的拓扑结构包括：<code>总线型</code>、<code>星型</code></li>
<li>对于术语10base-T，base表示连接线上的信号时基带信号<ul>
<li>10base-T是双绞线以太网，1990年由IEEE新认可，编号IEEE802.3i，T表示采用双绞线，现10base-T采用的是非屏蔽双绞线（UTP）</li>
<li>技术指标<ul>
<li>数据传输速率 10Mbps基带传输，10表示10兆比特每秒，Base表示基带传输，T代表双绞线</li>
<li>每段双绞线最大有效长度 100m，采用高质量的双绞线（5类线），最大长度可到<strong>150m</strong>(HUB与工作站间及两个HUB之间)</li>
<li>支持共享式和交换式两种组网方式</li>
<li>一条通路允许最大连接HUB数 4个</li>
<li>拓扑结构：星形或总线形</li>
<li>访问控制方式 CSMA/CD</li>
<li>帧长度可变，最大1518个字节</li>
<li>每个HUB可连接的工作站 96个</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>&nbsp;</p>
<h1 id="4-网络层"><a href="#4-网络层" class="headerlink" title="4. 网络层"></a>4. 网络层</h1><h2 id="4-1-网络互联与路由器"><a href="#4-1-网络互联与路由器" class="headerlink" title="4.1 网络互联与路由器"></a>4.1 网络互联与路由器</h2><ul>
<li>网络层核心功能：转发+路由</li>
<li>面向无连接的IP协议的信息传输方式是：<code>数据报</code></li>
<li>路由器的功能<ul>
<li>解决异构网络之间的互联问题</li>
<li>路由选择</li>
<li>分组转发</li>
<li>数据分段</li>
<li>协议转换</li>
<li>数据封装</li>
<li>不包括流量控制</li>
</ul>
</li>
<li>路由器在能够开始向输出链路传输分组的第一bit之前，必须先接收到整个分组，这种机制称为：<strong>存储转发</strong></li>
<li><code>ARP</code>协议的作用是：将IP地址映射到数据链路层地址（MAC地址），反过来是<code>RARP</code></li>
<li>每台路由器都依赖<strong>ARP</strong>协议，否则无法正确工作</li>
<li><code>ARP</code>将IP地址转换为物理地址，<code>RARP</code>将物理地址转换为IP地址</li>
<li>路由器连接的<strong>异构网络</strong>指的是：<strong>数据链路层和物理层均不同</strong></li>
<li>路由器涉及Internet体系结构的<strong>网络接口层</strong>和<strong>网络层</strong></li>
<li>路由器可以隔离<code>ARP</code>广播帧</li>
<li><code>intranet</code>与<code>internet</code>互联，必须的互联设备是路由器</li>
<li>路由器 VS 交换机<ul>
<li>路由器第三层，交换机第二层</li>
<li>路由器：寻址，转发（依靠 IP 地址）<br>交换机：过滤，转发（依靠 MAC 地址）</li>
</ul>
</li>
</ul>
<h2 id="4-2-交换和桥接"><a href="#4-2-交换和桥接" class="headerlink" title="4.2 交换和桥接"></a>4.2 交换和桥接</h2><h3 id="交换机"><a href="#交换机" class="headerlink" title="交换机"></a>交换机</h3><ul>
<li>定义<ul>
<li>有多个输入端和多个输出端的设备</li>
<li>可将分组或数据帧从一个输入端口传输到一个或多个输出端口<ul>
<li>数据链路层交换机——交换——数据帧——mac地址</li>
<li>网络层交换机——转发——数据报datagram/数据包packet/分组——ip地址</li>
</ul>
</li>
<li>交换机各端口速率和交换机自身带宽一致，不论端口数量</li>
</ul>
</li>
<li>电路交换机（Circuit switch）<ul>
<li>不是直接相连的</li>
<li>每部电话连到一个交换设备：交换机</li>
<li>保证两部电话机建立单独的电路链接</li>
</ul>
</li>
<li>分组交换机（Packet switch）<ul>
<li>计算机连接到分组交换机</li>
<li>分组可从一台主机传输到另外一台主机</li>
<li>采取存储转发将分组从输入端口交换到正确的输出端口</li>
<li>每个端口发送速率和交换机本身带宽一直，相当于<strong>独占</strong>带宽</li>
</ul>
</li>
</ul>
<h3 id="交换网络"><a href="#交换网络" class="headerlink" title="交换网络"></a>交换网络</h3><ul>
<li><p>分类</p>
<ul>
<li><p>电路交换网络</p>
</li>
<li><p>分组交换网络：数据报、虚电路、源路由</p>
<img src="https://my-picture-1311448338.file.myqcloud.com/img/20220104082156.png" alt="image-20220104082156187" style="zoom:50%;" /></li>
</ul>
</li>
</ul>
<h4 id="数据报网络"><a href="#数据报网络" class="headerlink" title="数据报网络"></a><strong>数据报网络</strong></h4><ul>
<li>无连接</li>
<li>标识：每一个分组包含的目的地址</li>
<li>交换机决策：基于转发表<ul>
<li>交换机查询转发表确定分组的输出端口</li>
<li>转发表的构造与维护: 基于收集的桥接/路由信息</li>
</ul>
</li>
<li>数据报网络<ul>
<li>主机可以随时随地发送分组</li>
<li>主机无法知道网络是否可以传送该分组或目的主机是否可以接收</li>
<li>每个分组的转发均基于首部的目的地址, 分组之间相互独立</li>
<li>一台交换机或一条链路出现故障时, 并不会对通信产生任何严重的影响</li>
<li>实例：ARPnet</li>
</ul>
</li>
</ul>
<h4 id="虚电路（VC）网络"><a href="#虚电路（VC）网络" class="headerlink" title="虚电路（VC）网络"></a><strong>虚电路（VC）网络</strong></h4><ul>
<li><p>面向连接：预先建立连接</p>
</li>
<li><p>转发方式</p>
<ul>
<li><p>分组标识: 虚电路标识 (VCI)</p>
<ul>
<li>每一个分组包含一个 VCI</li>
</ul>
</li>
<li><p>交换机决策: 基于虚电路表</p>
<ul>
<li>交换机查询转发表确定分组的输出端口</li>
</ul>
</li>
<li><p>连接过程</p>
<ul>
<li>连接建立, 数据传输, 连接释放</li>
</ul>
<img src="https://my-picture-1311448338.file.myqcloud.com/img/20220104074943.png" alt="image-20220104074943281" style="zoom:50%;" /></li>
</ul>
</li>
<li><p>虚电路的建立</p>
<ul>
<li>永久型虚电路（Permanent Virtual Circuit，PVC）<ul>
<li>网络管理员手工配置, 或由网络管理员产生信令探测形成</li>
<li>长期生存的虚电路</li>
</ul>
</li>
<li>交换型虚电路（Switched Virtual Circuit，SVC）<ul>
<li>主机动态发送信令建立连接</li>
<li>实际网络中SVC更为普遍</li>
<li>SVC信令<ul>
<li>建立<ul>
<li>源主机发送建立连接请求<ul>
<li>建立连接请求包含目的主机的完整地址</li>
</ul>
</li>
<li>中间交换机<ul>
<li>记录建立连接请求消息的输入端口</li>
<li>选择一个未使用的VCI值</li>
<li>确定输出端口</li>
<li>在虚电路表中插入一条记录</li>
<li>转发建立连接请求至下一个交换机</li>
</ul>
</li>
<li>目的主机<ul>
<li>选择一个可用的VCI值</li>
<li>沿着连接建立请求消息的路径反向发送确认消息</li>
</ul>
</li>
<li>中间交换机<ul>
<li>形成VC表记录</li>
</ul>
</li>
</ul>
</li>
<li>释放<ul>
<li>源主机发送释放连接消息</li>
<li>……</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><p>特点</p>
<ul>
<li>主机发送第一个数据分组前至少有一个RTT的时延, 用于连接建立</li>
<li>虽然建立连接请求包含目的主机的完整地址, 但每一个数据分组中仅带有一个很小的标识, 分组首部开销较小</li>
<li>如果一个连接上的交换机或链路出现故障, 连接就会被破坏, 需要建立新的连接</li>
<li>连接建立过程为虚电路提供了资源预留避免拥塞（对比：数据报网络是拥塞后恢复的策略）</li>
</ul>
</li>
</ul>
<h4 id="源路由"><a href="#源路由" class="headerlink" title="源路由"></a><strong>源路由</strong></h4><ul>
<li><p>源节点为每一个分组提供网络交换分组时所需的路由信息</p>
</li>
<li><p>源路由方法</p>
<ul>
<li>分组识别: 整条路径上所有交换机的端口序列<ul>
<li>分组首部包含从源节点到目的节点的整条路径的所有交换机的输出端口编号</li>
</ul>
</li>
<li>交换决策: 基于分组首部的路由<ul>
<li>交换机通过首部中的”下一个端口”指针读取下一个转发端口进行分组转发</li>
</ul>
</li>
</ul>
<img src="https://my-picture-1311448338.file.myqcloud.com/img/20220104075700.png" alt="image-20220104075700182" style="zoom:50%;" /></li>
<li><p>特点</p>
<ul>
<li>源节点知道全部的网络拓扑结构信息, 从而构造分组首部的源路由来指导交换机的分组转发</li>
<li>首部长度不固定, 由整条路径的跳数确定</li>
<li>源路由选择存在一个网络的规模性问题</li>
</ul>
</li>
</ul>
<h3 id="网桥和局域网交换机"><a href="#网桥和局域网交换机" class="headerlink" title="网桥和局域网交换机"></a>网桥和局域网交换机</h3><h4 id="动机"><a href="#动机" class="headerlink" title="动机"></a>动机</h4><ul>
<li>传统以太网局限性<ul>
<li>最多2500m的覆盖范围</li>
<li>最多容纳1024台主机</li>
</ul>
</li>
<li>拓展网络<ul>
<li>通过中继器再生放大信号</li>
<li>设计一种新的节点实现多个以太网之间的数据帧转发——&gt;网桥，有时通称为 以太网交换机</li>
</ul>
</li>
</ul>
<h4 id="网桥"><a href="#网桥" class="headerlink" title="网桥"></a>网桥</h4><ul>
<li><p>是交换机的一种实现，实现了Ethernet的拓展</p>
</li>
<li><p>单一局域网的总通信量为10Mbps, 连接n个网桥的吞吐量最多能够达到<em>n</em> *10Mbps</p>
</li>
<li><p>在数据链路层拓展局域网使用网桥，在物理层拓展局域网使用转发器和集线器</p>
<img src="https://my-picture-1311448338.file.myqcloud.com/img/20220104081701.png" alt="image-20220104081701849" style="zoom:50%;" /></li>
</ul>
<h5 id="1-解决无脑全转发的问题：透明网桥"><a href="#1-解决无脑全转发的问题：透明网桥" class="headerlink" title="1. 解决无脑全转发的问题：透明网桥"></a>1. 解决无脑全转发的问题：透明网桥</h5><ul>
<li>网桥启动时, 转发表为空</li>
<li>通过<strong>逆向</strong>学习法构建<strong>端口—地址表</strong><ul>
<li>示例：洪泛法</li>
</ul>
</li>
<li>如果转发表中无对应记录, 则向所有其他端口转发数据帧</li>
<li>丢弃超时的记录(一段时间内未更新)，即 soft state</li>
<li>通过将帧中的目的结点的物理地址和自己地址表中的信息进行比较，实现帧的转发和过滤</li>
</ul>
<h5 id="2-解决网络环路问题：生成树算法"><a href="#2-解决网络环路问题：生成树算法" class="headerlink" title="2. 解决网络环路问题：生成树算法"></a>2. 解决网络环路问题：生成树算法</h5><ul>
<li>内容<ul>
<li>发送数据的源网桥的id</li>
<li>发送网桥认定的根网桥的id</li>
<li>从发送网桥到根网桥的距离 (跳数)</li>
<li>最初每个网桥认为自己是根节点</li>
<li>每个网桥生成配置消息并从每个端口发送出去</li>
<li>当网桥的某个端口收到新的配置消息后, 更新每个端口的配置消息</li>
<li>当网桥学习发现自己既不是根节点也不是指派节点时则停止发送配置信息</li>
<li>系统稳定时, 仅根网桥产生配置消息, 其他网桥仅在那些指派网桥的端口上转发这些配置消息</li>
<li>根节点周期性的发送配置消息</li>
<li>如果网桥在一段时间后仍未收到配置消息, 则重新宣布自己是根节点, 重新生成配置消息并转发</li>
</ul>
</li>
</ul>
<h5 id="3-解决广播和多播问题"><a href="#3-解决广播和多播问题" class="headerlink" title="3. 解决广播和多播问题"></a>3. 解决广播和多播问题</h5><ul>
<li>问题<ul>
<li>上述仅考虑了网桥的单播数据帧 </li>
<li>网桥的目标是透明的扩展局域网, 必须支持广播和多播</li>
</ul>
</li>
<li>解决<ul>
<li>广播：每个网桥将带有目标广播地址的数据帧传到除了接收它的端口以外的其他活动(选择)的端口</li>
<li>多播：扩展生成树算法用来裁减掉那些不需要转发多播帧的网络</li>
</ul>
</li>
</ul>
<h5 id="4-解决拓展性问题：虚拟局域网VLAN"><a href="#4-解决拓展性问题：虚拟局域网VLAN" class="headerlink" title="4. 解决拓展性问题：虚拟局域网VLAN"></a>4. 解决拓展性问题：虚拟局域网VLAN</h5><ul>
<li>拓展性差<ul>
<li>当连接网段的数量增加时, 生成树算法扩展性存在局限性</li>
<li>在一个大规模的网络中, 广播帧会影响网络的性能</li>
</ul>
</li>
<li>解决：虚拟局域网VLAN<ul>
<li>每一个虚拟局域网分配一个标识符</li>
<li>只有两个网段的标识符相同时, 才能完成数据帧的转发</li>
</ul>
</li>
</ul>
<h5 id="网桥-VS-交换机"><a href="#网桥-VS-交换机" class="headerlink" title="网桥 VS 交换机"></a>网桥 VS 交换机</h5><ul>
<li>网桥一般只有2个输入或输出端口，交换机有多个</li>
<li>网桥里的 MAC 地址表则是一个端口对应多个地址，交换机里则是一个端口对应一个 MAC 地址</li>
</ul>
<h3 id="共享式VS交换式以太网"><a href="#共享式VS交换式以太网" class="headerlink" title="共享式VS交换式以太网"></a>共享式VS交换式以太网</h3><h4 id="设备对比"><a href="#设备对比" class="headerlink" title="设备对比"></a>设备对比</h4><ul>
<li>共享式以太网：集线器Hub</li>
<li>交换式以太网：交换机Switch</li>
<li>以太网集线器——&gt;网桥——&gt;交换机<ul>
<li>集线器：在共享媒介局域网的核心设备，CSMA/CD</li>
<li>网桥：早期版本的交换机，用于局域网扩展，在不同网段之间转发数据帧</li>
<li>交换机：每个端口是个网桥，端口之间转发数据帧，不同端口之间可以传输隔离</li>
</ul>
</li>
</ul>
<img src="https://my-picture-1311448338.file.myqcloud.com/img/20220104082122.png" alt="image-20220104082122447" style="zoom:50%;" />

<h4 id="协议对比"><a href="#协议对比" class="headerlink" title="协议对比"></a>协议对比</h4><ul>
<li>共享式：共享带宽，用CSMA/CD应对冲突</li>
<li>交换式：除非两个源端口发往同一目的端口，否则不存在冲突（专用带宽）</li>
</ul>
<h2 id="4-3-IP服务模型与协议"><a href="#4-3-IP服务模型与协议" class="headerlink" title="4.3 IP服务模型与协议"></a>4.3 IP服务模型与协议</h2><ul>
<li><p>IP协议提供的服务类型是：<strong>无连接的数据报服务</strong></p>
<ul>
<li>不事先为系列分组的传输确定传输路径</li>
<li>每个分组独立确定传输路径</li>
<li>不同分组可能传输路径不同</li>
</ul>
</li>
<li><p>为了防止IP数据报在Internet上无限制地传递，告知路由器是否应该丢弃某个数据报，在IP数据报首部设置了<code>生存时间TTL</code>字段</p>
</li>
<li><p>IP服务模型</p>
<ul>
<li><p>数据报传输</p>
<ul>
<li><p><strong>尽力而为</strong>的不可靠传输服务</p>
</li>
<li><p>数据报的路由选择与转发</p>
<ul>
<li>无连接方式</li>
</ul>
</li>
<li><p>分段与重组</p>
<ul>
<li><p>最大传输单元MTU</p>
<ul>
<li><p>是链路层数据可封装数据的上限，不同链路不同</p>
<img src="https://my-picture-1311448338.file.myqcloud.com/img/20220103103928.png" alt="image-20220103103928162" style="zoom: 33%;" /></li>
<li><p>大IP分组向较小MTU链路转发时，可以被分片，用IP首部相关字段标识分片的序号</p>
</li>
</ul>
</li>
<li><p>IP数据报分片发生在<strong>路由器</strong>，而重组发生在<strong>目的主机</strong></p>
</li>
<li><p>如果某一个分段丢失, 目的主机将放弃重组进程并丢弃已收到的分段</p>
</li>
<li><p>计算：</p>
<img src="https://my-picture-1311448338.file.myqcloud.com/img/20220103104114.png" alt="image-20220103104114780" style="zoom: 33%;" />

<img src="https://my-picture-1311448338.file.myqcloud.com/img/20220103104156.png" alt="image-20220103104156874" style="zoom: 33%;" />

<img src="https://my-picture-1311448338.file.myqcloud.com/img/20220103104222.png" alt="image-20220103104222098" style="zoom: 33%;" /></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="4-4-IP地址及其划分"><a href="#4-4-IP地址及其划分" class="headerlink" title="4.4 IP地址及其划分"></a>4.4 IP地址及其划分</h2><h3 id="IP编址"><a href="#IP编址" class="headerlink" title="IP编址"></a>IP编址</h3><ul>
<li><p>IP地址是网络层中识别主机的<code>逻辑地址</code></p>
</li>
<li><p>层次化寻址：两级地址空间（网络号+主机号）</p>
</li>
<li><p>网络地址</p>
<ul>
<li>IP地址的网络号唯一标识一个网络</li>
<li>在同一个局域网上的主机或路由器的IP地址中的网络号必须一样</li>
<li>用网桥互连的网段仍然是一个局域网，只能有一个网络号</li>
<li>路由器总是具有两个或以上的IP地址</li>
<li>IP地址不能直接用来通信，在实际网络的链路上传送数据必须使用硬件地址（MAC）</li>
</ul>
</li>
<li><p>主机没有IP地址但要加入网络时，使用<code>DHCP</code>；主机发送数据但不知目的主机的硬件地址时，使用<code>ARP</code>；数据报传输过程中出现差错时，使用<code>ICMP</code></p>
</li>
</ul>
<h3 id="IPv4"><a href="#IPv4" class="headerlink" title="IPv4"></a>IPv4</h3><ul>
<li><p>有类IP地址</p>
<ul>
<li><p>A类网络IP地址范围：1.0.0.1 - 127.255.255.254（<code>16777216-2</code>个主机/子网，2^24）</p>
</li>
<li><p>B类网络IP地址范围：128.0.0.1 - 191.255.255.254（<code>65536-2</code>个主机/子网，2^16）</p>
</li>
<li><p>C类网络IP地址范围：192.0.0.1 - 223.255.255.254（<code>256-2</code>个主机/子网，2^8）</p>
</li>
<li><p>D类网络IP地址范围：224.0.0.1 - 239.255.255.254（只用于多播）</p>
</li>
<li><p>E类网络IP地址范围：240.0.0.1 - 255.255.255.254（留给未来使用）</p>
<img src="https://my-picture-1311448338.file.myqcloud.com/img/20220103104634.png" alt="image-20220103104634464" style="zoom: 33%;" /></li>
</ul>
</li>
<li><p>私有IP地址</p>
<img src="https://my-picture-1311448338.file.myqcloud.com/img/20220103104904.png" alt="image-20220103104904787" style="zoom: 25%;" /></li>
</ul>
<h3 id="IP子网划分"><a href="#IP子网划分" class="headerlink" title="IP子网划分"></a>IP子网划分</h3><ul>
<li><p>网络号与主机号</p>
<img src="https://my-picture-1311448338.file.myqcloud.com/img/20220103104547.png" alt="image-20220103104547071" style="zoom: 33%;" /></li>
<li><p>特殊IP地址</p>
<img src="https://my-picture-1311448338.file.myqcloud.com/img/20220103104827.png" alt="image-20220103104827382" style="zoom:33%;" /></li>
<li><p>子网划分</p>
<ul>
<li><p>IP地址：原本的主机号高位比特改为子网号（SubID）</p>
<img src="https://my-picture-1311448338.file.myqcloud.com/img/20220103105116.png" alt="image-20220103105116448" style="zoom:25%;" /></li>
<li><p>子网掩码：NetID、SubID位全取1，用于表示利用多少位划分子网</p>
<img src="https://my-picture-1311448338.file.myqcloud.com/img/20220103105245.png" alt="image-20220103105245490" style="zoom:33%;" />

<ul>
<li><p>用于确定子网IP信息：</p>
<img src="https://my-picture-1311448338.file.myqcloud.com/img/20220103105333.png" alt="image-20220103105333288" style="zoom:33%;" /></li>
</ul>
</li>
<li><p>划分子网时，优先分配<strong>较大</strong>的子网</p>
</li>
<li><p>一个C类网络子网划分例子：</p>
<img src="https://my-picture-1311448338.file.myqcloud.com/img/20220103105529.png" alt="image-20220103105529431" style="zoom:33%;" /></li>
<li><p>IP子网寻址示例</p>
<img src="https://my-picture-1311448338.file.myqcloud.com/img/20220104085055.png" alt="image-20220104085055931" style="zoom:50%;" /></li>
<li><p>切记，子网中网络地址（全0）和广播地址（全1）占用了2个地址，因此子网主机数量实际上是<strong>可用主机号数量加2</strong></p>
<img src="https://my-picture-1311448338.file.myqcloud.com/img/20220104085338.png" alt="image-20220104085338005" style="zoom: 50%;" /></li>
<li><p>已知网络类型和子网掩码，计算子网和主机数</p>
<img src="https://my-picture-1311448338.file.myqcloud.com/img/20220104150405.jpg" alt="img" style="zoom: 25%;" />

<p>B类有16位（后16位）的主机位，依题，其中前10（8+2）位用作子网号，则子网有2^10=1024个，主机有2^6-2=62个</p>
</li>
</ul>
</li>
<li><p>优点</p>
<ul>
<li>提高了地址分配效率，加入一个新的物理网络时不需要用光B类或C类网络的所有地址</li>
<li>有利于信息聚合，减少路由器为了转发数据报到这些网络所需存储的信息量</li>
</ul>
</li>
</ul>
<h3 id="无分类编址CIDR与路由聚合"><a href="#无分类编址CIDR与路由聚合" class="headerlink" title="无分类编址CIDR与路由聚合"></a>无分类编址CIDR与路由聚合</h3><ul>
<li>CIDR使用各种长度的“网络前缀”来代替分类地址中的网络号和子网号，消除传统的A、B、C类网络地址界限</li>
<li>CIDR将网络前缀都相同的连续IP地址组成CIDR地址块</li>
<li>融合子网地址与子网掩码，方便子网划分<ul>
<li><p>无类地址格式：<code>a.b.c.d/x</code>，其中x是前缀长度（子网掩码里1的个数）</p>
<img src="https://my-picture-1311448338.file.myqcloud.com/img/20220103110934.png" alt="image-20220103110927258" style="zoom: 33%;" /></li>
</ul>
</li>
<li>优点<ul>
<li><p>提高IPv4地址空间分配效率</p>
</li>
<li><p>提高路由效率，减少了路由表和转发表的记录数量（这是子网划分处理不了的）</p>
<img src="https://my-picture-1311448338.file.myqcloud.com/img/20220103111123.png" alt="image-20220103111123578" style="zoom:33%;" /></li>
</ul>
</li>
<li>最长前缀匹配优先<ul>
<li><p>在检索转发表时，优先选择与分组目的地址匹配前缀最长的入口</p>
</li>
<li><p>使用CIDR查找路由表时可能会得到多个匹配结果，应当从匹配结果中选择具有最长网络前缀的路由，因为网络前缀越长，路由就越具体</p>
<img src="https://my-picture-1311448338.file.myqcloud.com/img/20220104145741.jpg" alt="Screenshot_20220104-145630_Superstar" style="zoom: 25%;" /></li>
</ul>
</li>
</ul>
<h3 id="地址转换协议（ARP）"><a href="#地址转换协议（ARP）" class="headerlink" title="地址转换协议（ARP）"></a>地址转换协议（ARP）</h3><ul>
<li>给定目的主机的IP地址, ARP可以找到同属一个物理网络内部的目的主机的物理地址</li>
<li>ARP采用<strong>广播机制</strong>，路由器可以隔绝ARP广播</li>
<li>每一个主机维护一个ARP表：<ul>
<li>并不是由一个服务器来负责回答请求，而是“自给自足”</li>
<li>15分钟记录未更新则超时失效</li>
</ul>
</li>
<li>当ARP表中无目的IP地址的对应记录，则ARP协议开始启动</li>
<li>工作原理<ul>
<li>主机X广播一个 ARP请求报文来探寻未知的节点D的IP地址</li>
<li>节点D 向源节点反馈其物理地址<ul>
<li>D节点 在本地ARP表中增加或更新节点X对应的记录</li>
</ul>
</li>
<li>节点X将收到的信息写入其ARP表</li>
<li>同一网络内的其他主机<ul>
<li>如果本地的ARP表中已存在节点X的IP地址对应的记录, 则更新记录</li>
<li>否则，do nothing</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="动态主机配置协议DHCP"><a href="#动态主机配置协议DHCP" class="headerlink" title="动态主机配置协议DHCP"></a>动态主机配置协议DHCP</h3><ul>
<li><p>DHCP协议在应用层实现，借助UDP数据报在链路层广播</p>
</li>
<li><p>DHCP允许主机自动从服务器获取：IP地址、子网掩码、默认网关地址、DNS服务器与IP地址</p>
</li>
<li><p>即插即用</p>
</li>
<li><p>允许地址重复使用</p>
</li>
<li><p>支持在用地址续租</p>
</li>
<li><p>支持移动用户加入网络</p>
</li>
<li><p>DHCP服务器会给出包含配置参数的提议供主机选择</p>
</li>
<li><p>新到主机（DHCP客户）获取IP地址的过程：</p>
<ul>
<li><p>主机广播：“DHCP discover”</p>
</li>
<li><p>DHCP服务器利用“DHCP offer”进行响应</p>
</li>
<li><p>主机请求IP地址：“DHCP request”</p>
</li>
<li><p>DHCP服务器分配IP地址：“DHCP ack”</p>
<img src="https://my-picture-1311448338.file.myqcloud.com/img/20220103135749.png" alt="image-20220103135749025" style="zoom: 33%;" /></li>
</ul>
</li>
</ul>
<h3 id="NAT协议"><a href="#NAT协议" class="headerlink" title="NAT协议"></a>NAT协议</h3><ul>
<li><p>网络地址转换（NAT）</p>
</li>
<li><p>实现<code>本地设备IP地址</code>和<code>与外界通信时所用IP地址</code>之间的转换</p>
</li>
<li><p>本地网络内不同设备有不同IP地址，但是在对外交流时使用<strong>同一NAT IP地址</strong>的<strong>不同端口号</strong></p>
</li>
<li><p>内部网络设备对外界网络不可见，即外界无法直接寻址（安全）</p>
</li>
<li><p>本地网络IP地址的变更无需通告外界网络</p>
<img src="https://my-picture-1311448338.file.myqcloud.com/img/20220103140400.png" alt="image-20220103140400114" style="zoom:33%;" /></li>
</ul>
<h3 id="ICMP协议"><a href="#ICMP协议" class="headerlink" title="ICMP协议"></a>ICMP协议</h3><ul>
<li><p>互联网控制报文协议（ICMP）</p>
</li>
<li><p><code>ping</code>发出的是ICMP报文，目的IP回复对应ICMP报文，用于检测网络连通性</p>
</li>
<li><p><code>traceroute</code>发出TTL=1的数据包，第一个接收到路由器回回传ICMP报文（TTL=0），然后<code>traceroute</code>发出TTL=2的数据包给第二个路由器，递推得到到达目的节点所经过的路由器序列</p>
</li>
<li><p>支持主机或服务器：差错检测、网络探寻</p>
</li>
<li><p>ICMP差错报文</p>
<ul>
<li><p>终点不可达</p>
<ul>
<li>终点不可达分为：网络不可达、主机不可达、协议不可达、端口不可达、需要分片但DF比特已置1、源路由失败，共6种情况，向源站发送对应的代码字段0~5的不可达报文</li>
</ul>
</li>
<li><p>端口不可达</p>
<ul>
<li>UDP的规则之一是：如果收到UDP数据报而且目的端口与某个正在使用的进程不相符，那么UDP返回一个ICMP报文</li>
</ul>
</li>
<li><p>源站抑制：</p>
<ul>
<li>当路由器或主机由于拥塞而丢弃数据报时，就向源站发送源站抑制报文，使源站知道应当将数据报发送速率放慢</li>
</ul>
</li>
<li><p>时间超时</p>
<ul>
<li>当路由器收到生存时间TTL为0的数据报时，除了丢弃该数据报外，还要向源站发送时间超过报文。当目的站在预先规定时间内不能收到一个数据报的全部数据报片时，就将已收到的数据报片都丢弃，并向源站发送超时报文</li>
</ul>
</li>
<li><p>参数问题</p>
<ul>
<li>当路由器或目的主机收到的数据报的首部中的字段的值不正确时，就丢弃该数据报，并向源站发送参数问题报文</li>
</ul>
</li>
<li><p>改变路由（重定向）</p>
<ul>
<li>将改变路由报文发送给主机，让主机知道下次应将数据报发送给另外的路由器</li>
</ul>
</li>
</ul>
</li>
<li><p>以下几种数据报不会导致产生ICMP差错报文：</p>
<ul>
<li>ICMP差错报文（但是ICMP查询报文可能会产生ICMP差错报文）</li>
<li>目的地址是广播地址或多播地址的数据报</li>
<li>作为链路层广播的数据报</li>
<li>不是IP分片的第1片</li>
<li>源地址不是单个主机的数据报。即源地址不能为零地址、环回地址、广播地址或多播地址</li>
</ul>
</li>
<li><p>ICMP网络探寻报文</p>
<ul>
<li>回声（Echo）请求与应答（Reply）报文</li>
<li>时间戳请求与应答报文</li>
</ul>
</li>
</ul>
<h3 id="IPv6"><a href="#IPv6" class="headerlink" title="IPv6"></a>IPv6</h3><ul>
<li><p>RFC2373中详细定义了IPv6地址，按照定义，一个完整的IPv6地址的表示法：xxxx:xxxx:xxxx:xxxx:xxxx:xxxx:xxxx:xxxx<br>例如：2031:0000:1F1F:0000:0000:0100:11A0:ADDF（4位×8段）</p>
<p>为了简化其表示法，rfc2373提出<strong>每段中前面的0可以省略</strong> ；<strong>连续的0可省略为”::”，但只能出现一次</strong>。例如：</p>
<table>
<thead>
<tr>
<th>原地址</th>
<th>简写</th>
</tr>
</thead>
<tbody><tr>
<td>1080:0:0:0:8:800:200C:417A</td>
<td>1080::8:800:200C:417A</td>
</tr>
<tr>
<td>FF01:0:0:0:0:0:0:101</td>
<td>FF01::101</td>
</tr>
<tr>
<td>0:0:0:0:0:0:0:1</td>
<td>::1</td>
</tr>
<tr>
<td>0:0:0:0:0:0:0:0</td>
<td>::</td>
</tr>
</tbody></table>
</li>
<li><p>数据格式</p>
<ul>
<li>定长40字节报头</li>
<li>不允许片段</li>
</ul>
</li>
<li><p>IP隧道（IPv4向IPv6过渡）</p>
<ul>
<li><p>IPv4路由器中IPv6数据报作为IPv4数据报的负载</p>
<img src="https://my-picture-1311448338.file.myqcloud.com/img/20220104101322.png" alt="image-20220104101322686" style="zoom:50%;" /></li>
</ul>
</li>
</ul>
<h2 id="4-5-路由算法与协议"><a href="#4-5-路由算法与协议" class="headerlink" title="4.5 路由算法与协议"></a>4.5 路由算法与协议</h2><h3 id="转发-VS-路由"><a href="#转发-VS-路由" class="headerlink" title="转发 VS 路由"></a>转发 VS 路由</h3><ul>
<li><p>转发（数据平面）</p>
<ul>
<li>过程：获得一个分组, 查看其目的地址，查询本地转发表，将分组从输出端口发送出去</li>
<li>节点(路由器/交换机)本地执行</li>
</ul>
</li>
<li><p>路由（控制平面）</p>
<ul>
<li>转发表的构建过程</li>
<li>通常由基于复杂分布式算法的路由协议完成</li>
</ul>
<img src="https://my-picture-1311448338.file.myqcloud.com/img/20220104084242.png" alt="image-20220104084242379" style="zoom:50%;" />

<img src="https://my-picture-1311448338.file.myqcloud.com/img/20220104090244.png" alt="image-20220104090244257" style="zoom: 67%;" /></li>
</ul>
<h3 id="距离向量（DV）路由选择"><a href="#距离向量（DV）路由选择" class="headerlink" title="距离向量（DV）路由选择"></a>距离向量（DV）路由选择</h3><h4 id="原理"><a href="#原理" class="headerlink" title="原理"></a>原理</h4><ul>
<li><p>基本思想</p>
<ul>
<li>与路由器直接连接的网络的距离值为0</li>
<li>每个节点构造一个包含到所有其他节点的”距离”(代价)的一维数组(一个向量)</li>
<li>并将该向量分发给其邻节点</li>
<li>节点根据接收到的距离向量计算到达其他所有节点的最短路径</li>
<li>经过距离向量的迭代交换和计算过程最终构造完整的路由表</li>
<li>注意，只能找到去每个网络的最短路径中的一条，不能所有都找到</li>
</ul>
</li>
<li><p>步骤</p>
<ul>
<li><p>步骤1：最初节点将向量中可直接到达的邻节点的代价设置为<strong>1</strong>，到所有其他节点的代价赋值为<strong>∞</strong></p>
</li>
<li><p>步骤2：节点将距离向量发送至直接可达的邻节点</p>
</li>
<li><p>步骤3：根据从邻节点<strong>Y</strong>收到的距离向量，节点<strong>X</strong></p>
<ul>
<li>计算本节点到达所有其他节点的距离：将来自<strong>Y</strong>的向量中到达所有其他节点的距离(例如 <strong>Z</strong>)加上本节点到<strong>Y</strong>的距离 (即<strong>1</strong>）</li>
<li>比较计算结果与本地向量中对应结果的大小：如果计算结果更小，则用该值替换本地距离向量的对应结果，并记录NextHop 为<strong>Y</strong></li>
</ul>
</li>
<li><p>示例</p>
<img src="https://my-picture-1311448338.file.myqcloud.com/img/20220104091156.png" alt="image-20220104091156375" style="zoom:50%;" />

<img src="https://my-picture-1311448338.file.myqcloud.com/img/20220104091222.png" alt="image-20220104091222480" style="zoom:50%;" /></li>
</ul>
</li>
<li><p>链路代价变化</p>
<ul>
<li>节点检测到本地链路代价改变 </li>
<li>更新路由信息，重新计算距离矢量</li>
<li>如果DV发生改变，通知相应的邻居</li>
</ul>
</li>
<li><p>无穷计算问题</p>
<ul>
<li><p>场景</p>
<img src="https://my-picture-1311448338.file.myqcloud.com/img/20220104091516.png" alt="image-20220104091516434" style="zoom:50%;" /></li>
<li><p>方案A：采用最大跳数取代无穷大</p>
</li>
<li><p>方案B：水平分割</p>
<ul>
<li>不向提供路由的邻节点发送更新报文</li>
<li>例如：节点B不向节点A发送有关节点E的更新信息，因为节点B到达节点的用路由是从节点学习而来的</li>
</ul>
</li>
<li><p>方案C：带反向抑制的水平分割</p>
<ul>
<li>节点B通告到达节点E的代价为无穷大，以确保节点A最终不会使用节点B来到达节点E</li>
</ul>
</li>
<li><p>上述解决方案在路由循环超过3节点的网络环境中网络会失效</p>
</li>
</ul>
</li>
</ul>
<h4 id="路由选择信息协议（RIP）"><a href="#路由选择信息协议（RIP）" class="headerlink" title="路由选择信息协议（RIP）"></a>路由选择信息协议（RIP）</h4><ul>
<li>基于距离向量算法</li>
<li>30s更新一次距离向量</li>
<li>跳数最大值为15，16意味无穷大</li>
</ul>
<h3 id="链路状态（LS）路由选择"><a href="#链路状态（LS）路由选择" class="headerlink" title="链路状态（LS）路由选择"></a>链路状态（LS）路由选择</h3><h4 id="原理-1"><a href="#原理-1" class="headerlink" title="原理"></a>原理</h4><ul>
<li><p>基本思想</p>
<ul>
<li>每个节点都知道怎样到达它的邻节点(link state), 并向通告给其他所有节点, 因此<strong>每个节点都可以获得完整的网络信息</strong>来建立其路由表</li>
<li>链路状态的度量可以是：距离、带宽、时延、费用等</li>
</ul>
</li>
<li><p>依赖链路状态的<strong>可靠洪范</strong></p>
<ul>
<li>链路状态报文(Link State Message)<ul>
<li>链路状态分组, LSP (Link State Packet)</li>
<li>创建LSP的节点ID</li>
<li>与该节点直接相邻的节点信息列表 &lt;AdjacentNode, Cost&gt;, 其中包括到这些邻节点的链路代价</li>
<li>序号 Seq</li>
<li>LSP的生命周期</li>
</ul>
</li>
<li>保证链路状态分组的洪泛<ul>
<li>采用确认和重传机制</li>
<li>通过序号</li>
<li>不发回发送LSP的节点</li>
</ul>
</li>
<li>新的链路状态分组快速洪泛, 旧的分组快速被删除<ul>
<li>采用序列号和TTL</li>
<li>长序列号</li>
<li>逐跳递减TTL</li>
</ul>
</li>
<li>链路状态洪泛的触发器<ul>
<li>周期性计时器超时</li>
<li>拓扑结构变化</li>
</ul>
</li>
</ul>
</li>
<li><p>路由计算（基于Dijkstra算法）</p>
<ul>
<li><p>算法</p>
<img src="https://my-picture-1311448338.file.myqcloud.com/img/20220104092709.png" alt="image-20220104092709471" style="zoom: 67%;" /></li>
<li><p>示例1</p>
<img src="https://my-picture-1311448338.file.myqcloud.com/img/20220104092448.png" alt="image-20220104092448663" style="zoom:50%;" /></li>
<li><p>示例2</p>
<img src="https://my-picture-1311448338.file.myqcloud.com/img/20220103100722.png" alt="image-20220103100722586" style="zoom: 33%;" /></li>
</ul>
</li>
<li><p>算法分析</p>
<ul>
<li>时间复杂度：O(n^2)，可优化为O(nlogn)</li>
<li>可能存在路由震荡（无穷计算）</li>
<li>优点<ul>
<li>快速稳定</li>
<li>不会产生过多的通信量</li>
<li>快速响应拓扑变化</li>
</ul>
</li>
<li>缺点<ul>
<li>节点存储的信息量大(所有其他节点的LSP)</li>
</ul>
</li>
</ul>
</li>
<li><p>如果在一个使用链路状态路由的互联网络中有5个路由器和6个网络，那么存在<code>5</code>个路由表，每个表中至少有<code>6</code>个表项，在路由器中存在<code>1</code>个不同的链路状态数据库</p>
</li>
<li><p>链路状态 VS 距离向量</p>
<ul>
<li>链路状态：每个节点只告诉所有其他节点与之<strong>相邻</strong>的链路状态</li>
<li>距离向量：每个节点只与直接相连的节点通信，但是包含到达<strong>所有</strong>节点的距离</li>
</ul>
</li>
</ul>
<h4 id="开放最短路径优先（OSPF）"><a href="#开放最短路径优先（OSPF）" class="headerlink" title="开放最短路径优先（OSPF）"></a>开放最短路径优先（OSPF）</h4><ul>
<li>基于链路状态算法</li>
<li>高级特征（RIP没有）<ul>
<li>安全性：所有OSPF报文需要认证 (避免恶意入侵)</li>
<li>允许多条相同代价的路径存在 (RIP中仅允许一条路径)</li>
<li>对一条链路而言，可以依据不同的TOS分配不同的代价值(例如：卫星链路从实时性考虑代价较大, 但从尽最大努力交付能力来说代价较小)</li>
<li>支持单播和多播<ul>
<li>多播OSPF (MOSPF)使用与OSPF相同的拓扑数据</li>
</ul>
</li>
<li>在一个较大的域内采用<strong>层次化</strong>OSPF</li>
</ul>
</li>
<li>OSPF协议将一个自治域划分成若干区域，有一种特殊区域叫做主干区域<ul>
<li>域之间通过边界路由器互联</li>
<li>在自治系统中有4中路由器：区域内部路由器、主干路由器、区域边界路由器、自治域边界路由器</li>
<li>主干路由器可以兼做区域边界路由器</li>
</ul>
</li>
</ul>
<h3 id="自治系统"><a href="#自治系统" class="headerlink" title="自治系统"></a>自治系统</h3><h4 id="基本概念"><a href="#基本概念" class="headerlink" title="基本概念"></a>基本概念</h4><ul>
<li>Internet将整个网络划分为许多较小单位AS：由同一个管理机构管理，使用统一的路由策略的路由器的集合</li>
<li>每一个自治系统(AS)在一个独立的管理实体的控制之下<ul>
<li>示例：校园网络、公司网络</li>
</ul>
</li>
<li>由此，路由协议也分为两大类：<strong>内部网关协议IGP</strong>、<strong>外部网关协议EGP</strong></li>
</ul>
<h4 id="内部网关协议（IGP）"><a href="#内部网关协议（IGP）" class="headerlink" title="内部网关协议（IGP）"></a>内部网关协议（IGP）</h4><ul>
<li>内部网关协议（Interior Gateway Protocol）是一个在自治网络内部网关（主机和路由器）间交换路由信息的协议。路由信息用于网间协议（IP）或者其他网络协议来说明路由传送是如何进行的</li>
<li>包括：RIP、OSPF、IS-IS、IGRP、EIGRP等</li>
<li>选路原则：优先级、开销、负载均衡</li>
<li>典型协议<ul>
<li>RIP协议<ul>
<li>RIP协议是一种内部网关协议，底层是贝尔曼福特算法，是一种动态路由选择协议。</li>
<li>基于<strong>距离向量</strong>算法，使用跳数来衡量到达目标地址的路由距离</li>
<li>运行在<strong>UDP</strong>协议之上，使用520端口，使用224.0.0.9作为组播地址向外组播路由信息</li>
<li>以跳数作为选择路由的度量标准，只适用于<strong>小区域</strong></li>
<li>通过广播UDP报文来交换信息，<strong>30s</strong>发送一次路由信息更新</li>
<li>最多支持的跳数为15，16及以上就表示为不可达</li>
<li>要求路由器维护从它到每个内部路由器的距离向量</li>
<li>使用<strong>毒性逆转</strong>法预防乒乓环路无穷计算，设置无穷大距离为16</li>
</ul>
</li>
<li>OSPF协议<ul>
<li>开放式最短路径优先（Open Shortest Path First）是一种内部网关协议</li>
<li>基于<strong>链路状态</strong>路由协议</li>
<li>运行于<strong>IP</strong>协议之上</li>
<li>允许使用多条相同费用的路径（RIP只能选择一条）</li>
<li>以带宽、延迟作为选择路由的度量标准，适用于<strong>大中型</strong>网络</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="外部网关协议（EGP：BGP）"><a href="#外部网关协议（EGP：BGP）" class="headerlink" title="外部网关协议（EGP：BGP）"></a>外部网关协议（EGP：BGP）</h4><ul>
<li>外部网关协议（Exterior Gateway Protocol）是AS之间使用的路由协议，目前只有一个协议：BGP</li>
<li><strong>边界网关（BGP）协议</strong><ul>
<li>运行于<strong>TCP</strong>基础上</li>
<li>属于域间路由选择，“把互联网粘合在一起”</li>
<li>基于<strong>路径向量</strong>算法（不使用距离向量（收敛慢）、链路状态（强迫告知敏感信息，不安全））<ul>
<li>支持灵活的路由策略（商业要求）</li>
<li>避免无穷计算</li>
<li>核心思想: 通告整个路径<ul>
<li>路由表要包括分组到达目的网络的路径</li>
<li>所交换的网络可达性信息是：<strong>到达某个网络所经过的路径</strong></li>
</ul>
</li>
</ul>
</li>
<li>使用<strong>TCP</strong>作为传输层协议</li>
<li>内容：<ul>
<li>节点知道多条到达目的地的路径<ul>
<li>在路由表中存储所有的路由</li>
<li>采用策略选择一条最好的路由</li>
</ul>
</li>
<li>增量更新<ul>
<li>通告<ul>
<li>一旦选择一条新的路由, 则将节点id加入路径向量</li>
<li>… 并(有选择性的)通告其他邻居</li>
</ul>
</li>
<li>撤销<ul>
<li>如果路由不再有效</li>
<li>… 发送撤销路由消息</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>主要功能是和其他的 BGP 系统交换网络可达信息</li>
<li>BGP的邻居关系（或称通信对端/对等实体）是通过人工配置实现的，对等实体之间通过TCP（端口179)会话交互数据</li>
<li>BGP路由器会周期地发送19字节的保持存活keep-alive消息来维护连接（默认周期为30秒）</li>
<li>热土豆路由<ul>
<li>有多个网关路由器可以到达目的子网时，选择最小费用路径的区域间路由器</li>
</ul>
</li>
</ul>
</li>
</ul>
<p><strong>直接封装RIP、OSPF、BGP报文的协议分别为：UDP、IP、TCP</strong></p>
<h3 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h3><h4 id="IP多播"><a href="#IP多播" class="headerlink" title="IP多播"></a>IP多播</h4><ul>
<li>又称为 组播，与一组主机进行通信，指多个接收者可以收到同一个或者同一组源节点发送的相同内容的分组</li>
<li>避免单播的低效和广播的无区分性</li>
<li>发送主机使用多播地址发送分组时不需要了解接收者的位置信息和状态信息</li>
<li>组播协议（IGMP）<ul>
<li>IGMP协议运行于主机与组播路由器之间，这描述了IGMP的应用场景</li>
<li>只有主机和路由器才会使用，如果是路由器和路由器之间，是不会使用IGMP的</li>
<li>IGMP提供了在转发组播数据包到目的地的最后阶段所需的信息，实现如下双向的功能：<ol>
<li>主机通过IGMP通知路由器希望接收或离开某个特定组播组的信息</li>
<li>路由器通过IGMP周期性地查询局域网内的组播组成员是否处于活动状态，实现所连网段组成员关系的收集与维护</li>
</ol>
</li>
</ul>
</li>
</ul>
<h4 id="多协议标签交换（MPLS）"><a href="#多协议标签交换（MPLS）" class="headerlink" title="多协议标签交换（MPLS）"></a>多协议标签交换（MPLS）</h4><ul>
<li>ISP使用</li>
<li>解决BGP的路由黑洞问题</li>
</ul>
<h4 id="移动IP"><a href="#移动IP" class="headerlink" title="移动IP"></a>移动IP</h4><ul>
<li>目的地址为家乡地址的IP分组，将会以标准的IP路由机制发送到家乡网络</li>
<li>家乡链路与外地链路比家乡网络与外地网络更精确地表示出移动结点接入点位置</li>
<li>家乡代理通过隧道将发送给移动节点的 IP 分组转发给移动节点</li>
<li>终端系统处理<ul>
<li>间接选路: 从通信者到漫游节点的通信，通过本地代理，然后被转发到漫游网络</li>
<li>直接选路: 通信者获得漫游节点的外部地址/转交地址, 直接发送给漫游节点</li>
</ul>
</li>
<li>三角路由（间接选路）<ul>
<li>通信者-本地网络-漫游节点</li>
</ul>
</li>
</ul>
<p>&nbsp;</p>
<h1 id="5-传输层"><a href="#5-传输层" class="headerlink" title="5. 传输层"></a>5. 传输层</h1><h2 id="5-1-相关概念"><a href="#5-1-相关概念" class="headerlink" title="5.1 相关概念"></a>5.1 相关概念</h2><ul>
<li><p>网络层负责主机到主机的通信，传输层负责进程到进程的通信</p>
</li>
<li><p>基本理论和基本机制</p>
<ul>
<li><p>发送端多路复用，接收端解复用</p>
</li>
<li><p>复用/解复用</p>
<ul>
<li>无连接的解复用：UDP的Socket，用二元组（目的IP地址，目的端口号）标识</li>
<li>面向连接的解复用：TCP的Socket，用四元组（源IP地址，源端口号，目的IP地址，目的端口号）标识</li>
</ul>
</li>
<li><p>可靠数据传输机制</p>
<ul>
<li>差错检测（校验和）</li>
<li>确认机制（含序号分组和ACK）</li>
<li>确认重传机制（ARQ协议）</li>
<li>停—等协议——&gt;流水线机制——&gt;滑动窗口协议：后退N帧（GBN）、选择性路由（SR）</li>
</ul>
</li>
</ul>
</li>
<li><p>TCP/IP协议族的层次中，解决计算机之间通信问题是在<strong>网络层</strong></p>
</li>
<li><p>在OSI参考模型中，提供流量控制功能的是：<strong>数据链路层</strong>、<strong>传输层</strong></p>
</li>
</ul>
<h2 id="5-2-用户数据报（UDP）协议"><a href="#5-2-用户数据报（UDP）协议" class="headerlink" title="5.2 用户数据报（UDP）协议"></a>5.2 用户数据报（UDP）协议</h2><ul>
<li>关于UDP的描述<ul>
<li>发送数据之前不需要建立连接（减少延迟）</li>
<li>没有拥塞控制，应用可以更好地控制发送时间和速率</li>
<li>相对于IP数据报服务，UDP在IP之上只增加了<strong>端口</strong>的功能和<strong>差错检测</strong>功能（校验和，checksum）</li>
<li>UDP用户数据报只能提供不可靠的交付，可能乱序、丢失</li>
</ul>
</li>
<li>关于端口的描述<ul>
<li>端口就是传输层服务访问点</li>
<li>端口号只具有本地意义，在Internet中不同计算机的相同端口号是没有联系的</li>
<li>Socket由IP地址和端口号组成</li>
</ul>
</li>
<li>UDP协议中，伪首部的作用是：为差错检测提供帮助</li>
<li>为解决UDP报文的可靠传输问题：<ul>
<li>在应用层增加可靠性机制</li>
<li>应用特定的错误恢复机制</li>
</ul>
</li>
<li>优点<ul>
<li>控制数据发送的内容和时间</li>
<li>不存在连接建立时延</li>
<li>无状态连接</li>
<li>报文首部开销较小</li>
</ul>
</li>
<li>缺点<ul>
<li>不保证报文的传送, 可能出现乱序到达</li>
<li>无拥塞控制</li>
<li>抑制TCP流</li>
</ul>
</li>
<li>应用<ul>
<li>域名解析系统：DNS</li>
<li>多媒体应用</li>
</ul>
</li>
</ul>
<h2 id="5-3-可靠字节流（TCP）协议"><a href="#5-3-可靠字节流（TCP）协议" class="headerlink" title="5.3 可靠字节流（TCP）协议"></a>5.3 可靠字节流（TCP）协议</h2><h4 id="TCP服务模型"><a href="#TCP服务模型" class="headerlink" title="TCP服务模型"></a>TCP服务模型</h4><ul>
<li>面向连接<ul>
<li>终端主机在数据交换之前需要连接连接</li>
<li>全双工：数据可双向传输</li>
</ul>
</li>
<li>可靠性<ul>
<li>保证数据的传送</li>
<li>数据按序到达</li>
</ul>
</li>
<li>流量控制<ul>
<li>控制发送方的速率避免接收方过载</li>
<li>在链路层也存在流量控制</li>
</ul>
</li>
<li>拥塞控制<ul>
<li>控制发送方速率避免网络过载</li>
<li>拥塞控制由网络层和传输层协作解决</li>
</ul>
</li>
</ul>
<h4 id="TCP帧结构"><a href="#TCP帧结构" class="headerlink" title="TCP帧结构"></a>TCP帧结构</h4><ul>
<li>1 - 2 字节：源端口号</li>
<li>3 - 4 字节：目的端口号</li>
<li>5 - 8 字节：序列号Seq</li>
<li>9 - 12 字节：确认号ACK</li>
<li>14字节：标志位SYN</li>
<li>17 - 20 字节：缺省通告窗口AdvertisedWindow，描述接收方窗口大小</li>
<li>其中，AdvertisedWindow必须大于链路的时延带宽积；Sequence Number必须大于AdvertisedWindow的2倍，且大于链路带宽×数据段最大TTL（支持数据段最大生存期）</li>
</ul>
<img src="https://my-picture-1311448338.file.myqcloud.com/img/20220105074604.png" alt="image-20220104235736233" style="zoom: 33%;" />

<h4 id="三次握手建立连接"><a href="#三次握手建立连接" class="headerlink" title="三次握手建立连接"></a>三次握手建立连接</h4><ul>
<li><p>Client发送建立连接请求（SYN=1，Seq=x）至Server</p>
</li>
<li><p>Server回复确认前序请求（ACK=1，ack=x+1），同时捎带对发送进程的连接请求（SYN=1，Seq=y）——&gt;(ACK=1，ack=x+1，SYN=1，Seq=y)</p>
</li>
<li><p>Client回复确认前序请求（ACK=1，ack=y+1）</p>
</li>
<li><p>为什么三次握手？</p>
<img src="https://my-picture-1311448338.file.myqcloud.com/img/20220104103543.png" alt="image-20220104103543736" style="zoom: 67%;" /></li>
</ul>
<h4 id="四次挥手断开连接"><a href="#四次挥手断开连接" class="headerlink" title="四次挥手断开连接"></a>四次挥手断开连接</h4><ul>
<li>Client发送连接断开请求（FIN=1，Seq=u）至Server</li>
<li>Server回复确认前序请求（ACK=1，ack=u+1），同时继续发送待传输数据（Seq=v）</li>
<li>Server等待上层应用数据传输完毕之后，Server重复确认前序请求（ACK=1，Seq=u+1），同时发送连接断开请求（FIN=1，Seq=w）</li>
<li>Client回复确认前序请求（ACK=1，ack=w+1，Seq=u+1），继续等待2<code>MSL</code>时间后关闭</li>
</ul>
<h4 id="TCP数据报中变量"><a href="#TCP数据报中变量" class="headerlink" title="TCP数据报中变量"></a>TCP数据报中变量</h4><ul>
<li>建立连接阶段，seq=随机值；后续阶段，seq=对面发送数据报的序号</li>
<li>ack = 希望接收的数据报的序号 = 对方数据报seq值 + 1</li>
<li>ACK是标志位，= 1说明为ACK信号</li>
</ul>
<h2 id="5-4-TCP滑动窗口算法"><a href="#5-4-TCP滑动窗口算法" class="headerlink" title="5.4 TCP滑动窗口算法"></a>5.4 TCP滑动窗口算法</h2><ul>
<li><p>TCP采用改进的滑动窗口算法实现：</p>
<ul>
<li>保证数据的可靠传送</li>
<li>确保数据的有序传送</li>
<li><strong>流量控制</strong> (基于变化的 AdvertisedWindow 字段)</li>
</ul>
</li>
<li><p>滑动窗口算法采用变化的接收窗口大小</p>
<ul>
<li><p>接收方通知发送方其窗口大小，该值可能随时间变化</p>
</li>
<li><p>接收窗口大小通过TCP首部的AdvertisedWindow字段描述</p>
<img src="https://my-picture-1311448338.file.myqcloud.com/img/20220104104349.png" alt="image-20220104104349810" style="zoom:50%;" /></li>
</ul>
</li>
<li><p>ACK信息还包括期望接受的下一字节</p>
</li>
<li><p>触发传输</p>
<ul>
<li>当收集到的字节数达到MSS 时</li>
<li>发送进程明确要求TCP发送时</li>
<li>定时器激活</li>
</ul>
</li>
<li><p>超时重传</p>
<ul>
<li><p>采用自适应机制估计当前RTT作为定时依据</p>
</li>
<li><p>原始算法</p>
<img src="https://my-picture-1311448338.file.myqcloud.com/img/20220104105042.png" alt="image-20220104105041940" style="zoom: 67%;" /></li>
<li><p>Karn/Partridge算法</p>
<ul>
<li>TCP重传时停止计算RTT样本值</li>
<li>每次重传后设置下次超时的值为上次的两倍（指数退避）</li>
</ul>
</li>
<li><p>Jacobson/Karn算法</p>
<img src="https://my-picture-1311448338.file.myqcloud.com/img/20220104105153.png" alt="image-20220104105153647" style="zoom:50%;" /></li>
</ul>
</li>
</ul>
<h2 id="5-5-TCP拥塞控制"><a href="#5-5-TCP拥塞控制" class="headerlink" title="5.5 TCP拥塞控制"></a>5.5 TCP拥塞控制</h2><ul>
<li><p>发送端限制发送速率</p>
<ul>
<li><p>拥塞窗口CongWin</p>
<ul>
<li><p>发送端的发送窗口上限值应取<strong>接收方窗口</strong>和<strong>拥塞窗口</strong>中的较小值</p>
<img src="https://my-picture-1311448338.file.myqcloud.com/img/20220103143429.png" alt="image-20220103143429277" style="zoom: 33%;" /></li>
</ul>
</li>
<li><p>接收窗口 VS 拥塞窗口</p>
<ul>
<li>接受窗口用于流量控制，避免快速发送方使慢速接收方过载</li>
<li>拥塞窗口用于拥塞控制，避免多个发送方使网络过载</li>
</ul>
</li>
<li><p>发送窗口 = min（接收窗口，拥塞窗口，链路时延带宽积）</p>
</li>
</ul>
</li>
<li><p>拥塞事件</p>
<ul>
<li>超时</li>
<li>3个重复ACK</li>
</ul>
</li>
<li><p>调整发送速率</p>
<ul>
<li>加性增——乘性减：AIMD<ul>
<li>加性增：每个RTT将CongWin增大一个MSS——<strong>拥塞避免</strong></li>
<li>乘性减：发生拥塞事件后将CongWin减半</li>
<li><img src="https://my-picture-1311448338.file.myqcloud.com/img/20220103143712.png" alt="image-20220103143712710" style="zoom: 50%;" /></li>
</ul>
</li>
<li>慢启动：SS<ul>
<li>TCP初始时，CongWin=1</li>
<li>开始阶段，指数性增长：每个RTT（收到ACK时）将CongWin翻倍</li>
<li>考虑在一个具有 10ms 往返时延的线路上采用慢启动拥塞机制。假设没有发生网络拥塞，该 TCP 的报文段大小为 2KB，接收方可用接收窗口为 24KB。那么发送方需要<code>40</code>ms 时间才能达到该接收窗口大小<ul>
<li>已知最大报文段式2KB，开始的突发量分别是2KB、4KB、8KB、16KB，接下来即为24KB，因为不能超过接收窗口，因此，需要40ms才能发送第一个完全窗口</li>
</ul>
</li>
</ul>
</li>
<li>状态切换：<ul>
<li>变量Threshold记录AIMD和SS切换的阈值</li>
<li>朴素思想：<ul>
<li>CongWin小于Threshold时采用SS，大于Threshold时采用AIMD</li>
<li>发生拥塞事件时Threshold置为拥塞事件瞬间CongWin大小的一半</li>
<li><img src="https://my-picture-1311448338.file.myqcloud.com/img/20220103144059.png" alt="image-20220103144059883" style="zoom:50%;" /></li>
</ul>
</li>
<li>实际规定：<ul>
<li>收到3个重复ACK时，<strong>快速恢复</strong><ul>
<li>Threshold置为当前CongWin大小的一半</li>
<li>CongWin减少一半</li>
<li>采用AIMD</li>
</ul>
</li>
<li>发生超时事件时<ul>
<li>Threshold置为当前CongWin大小的一半</li>
<li>CongWin置为1</li>
<li>采用SS</li>
<li>达到Threshold时再换为AIMD</li>
</ul>
</li>
<li><img src="https://my-picture-1311448338.file.myqcloud.com/img/20220103144605.png" alt="image-20220103144605452" style="zoom:50%;" /></li>
<li>设 TCP 的拥塞窗口的慢启动门限值初始为 12（单位为报文段），当拥塞窗口达到 16 时出现超时，再次进入慢启动过程。问从这时起，需要<code>12</code>次往返时延才能恢复到超时那时的拥塞窗口大小<ul>
<li>出现超时后，拥塞窗口设为1，拥塞避免门限为8<br>因此经过3个RTT后拥塞窗口增加为8<br>在经过8个RTT后拥塞窗口增加到16<br>因此共需要8+3=11个RTT才能使拥塞窗口恢复为超时时的16</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><p><strong>快速重传</strong></p>
<ul>
<li>在收到3次重复ACK时，不必等待超时计时器，立刻重传对应序号的分组以避免超时</li>
</ul>
</li>
<li><p>公平性</p>
<ul>
<li><p>TCP具有公平性，带宽平均分配（原因：加性增、乘性减）</p>
<img src="https://my-picture-1311448338.file.myqcloud.com/img/20220104110059.png" alt="image-20220104110059041" style="zoom:50%;" /></li>
<li><p>但与UDP同时抢占资源时不占优势</p>
</li>
</ul>
</li>
<li><p>其他</p>
<ul>
<li>TCP协议中观察网络拥塞的办法是 <code>以超时作为网络拥塞的标志</code></li>
<li>在 TCP/IP 中，实施流量控制的目的是 <code>保证接收方总是来得及接收发送方发出的报文或分组</code></li>
<li>在 TCP 协议中，如果发送窗口直接按照接收方的通知窗口设置，其结果是 <code>突发流量导致分组无法到达接收方</code></li>
<li>在 TCP 协议中，如果发送方收到三个重复的 ACK 后, 发送方将会 <code>快速重传未被确认的报文段</code></li>
<li>多媒体应用经常不使用 TCP 的原因可能是 <code>不希望数据传输速率受限于拥塞窗口</code></li>
<li>主机 A 和主机 B 之间建立了一个 TCP 连接，TCP 最大的数据段长度为 1000 字节，若主机 A 当前的拥塞窗口为 4000 字节，在主机 A 向主机 B 连续发送两个最大段之后，成功收到主机 B 回复的第一段的确认，确认报文中通告的接收窗口大小为 2000 字节，则此时主机 A 还可以向主机 B 发送的最大字节数是 <code>1000</code><ul>
<li>第一个段的确认段中通告的接收窗口大小为2000字节，即表明在接受到第一个报文段后，还有2000字节的缓存空间可用。 由于发送方发送了二个报文段，第二个段将占用剩下的2000字节中的1000字节，即一共还有（ 2000-1000=1000 ）字节，因而，此时主机甲还可以向主机乙发送的最大字节数是1000字节</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>&nbsp;</p>
<h1 id="6-应用层"><a href="#6-应用层" class="headerlink" title="6. 应用层"></a>6. 应用层</h1><h3 id="相关概念-2"><a href="#相关概念-2" class="headerlink" title="相关概念"></a>相关概念</h3><ul>
<li><p>网络应用体系结构</p>
<ul>
<li>客户机/服务器（C/S）结构<ul>
<li>Web应用</li>
<li>Email应用</li>
<li>DNS应用</li>
</ul>
</li>
<li>点对点结构(P2P)结构<ul>
<li>BitTorrent、文件共享（电驴）、即时消息（QQ）</li>
</ul>
</li>
<li>混合型结构</li>
</ul>
</li>
<li><p>通过<code>IP地址</code>对主机进行寻址后通过<code>端口号</code>标识不同进程</p>
<ul>
<li>HTTP Server：80</li>
<li>Email Server：25</li>
</ul>
</li>
<li><p>在整个Internet上，使用<code>IP地址+端口号</code>唯一标识一个特定的应用进程</p>
</li>
<li><p>在 Internet 域名体系中，域的下面可以划分子域，各级域名用圆点分开，按照 <code>从右到左越来越小的方式分多层排列</code></p>
</li>
<li><p>当一台计算机从 FTP 服务器下载文件时，在该 FTP 服务器上对数据进行封装的五个转换步骤是 <code>消息，报文段，数据报，数据帧，比特</code></p>
</li>
<li><p>网络应用实例</p>
<ul>
<li>E-mail</li>
<li>Web</li>
<li>即时通信（QQ）</li>
<li>远程登陆（ssh、telnet）</li>
<li>P2P文件共享（BitTorrent）</li>
<li>IP电话（Skype）</li>
<li>……</li>
</ul>
</li>
</ul>
<h3 id="Web应用与HTTP协议"><a href="#Web应用与HTTP协议" class="headerlink" title="Web应用与HTTP协议"></a>Web应用与HTTP协议</h3><ul>
<li><p>万维网WWW（World Wide Web）</p>
<ul>
<li>浏览器是运行于计算机上的万维网客户端程序；万维网文档所驻留的计算机则运行服务器程序</li>
<li>WWW工作过程可简要描述为：<ul>
<li>浏览器于服务器之间建立TCP连接</li>
<li>浏览器发出HTTP请求报文</li>
<li>服务器给出HTTP响应报文</li>
<li>断开TCP连接</li>
<li>响应时间 = 2×RTT+文件传输时间</li>
</ul>
</li>
<li>一个超文本由多个信息源链接而成，利用一个链接可使用户找到因特网上的另一个文档<ul>
<li>超文本：含有链接到其他文本的链接点的文本</li>
</ul>
</li>
</ul>
</li>
<li><p>Web</p>
<ul>
<li>网页由某些<strong>对象</strong>组成</li>
<li>对象可以是HTML文件、JPEG图片、Java Applet、音频文件……</li>
<li>网页由包含以上某些对象的基本HTML文件构成</li>
<li>每个对象都由一个URL定位</li>
</ul>
</li>
<li><p>超文本传输协议（HTTP）</p>
<ul>
<li>网络的应用层协议</li>
<li>无状态协议，服务器不保存客户端之前请求的信息记录</li>
<li>客户机/服务器模型（C/S）<ul>
<li>客户机：浏览器请求和接收消息，显示web对象</li>
<li>服务器：Web 服务器发送对象给浏览器，作为对请求的响应</li>
</ul>
</li>
<li>使用TCP传输协议<ul>
<li>客户端发送连接请求（产生socket）给服务器的80端口</li>
<li>服务器接收从客户端发送来的<strong>TCP</strong>连接请求</li>
<li>浏览器（HTTP客户端）和Web服务器（HTTP服务器）之间交换HTTP 消息 (应用层协议消息)</li>
<li>关闭TCP连接</li>
</ul>
</li>
</ul>
</li>
<li><p>Web使用<code>HTTP</code>协议进行信息传输</p>
</li>
<li><p>用户—服务器状态：Cookies技术</p>
<ul>
<li><p>因为HTTP协议为无状态，所以为了保存上次浏览内容，引入Cookie技术</p>
</li>
<li><p>Client访问Server时带上Cookie编号，Server为每个编号Client维护后台数据库</p>
<img src="https://my-picture-1311448338.file.myqcloud.com/img/20220103155836.png" alt="image-20220103155836735" style="zoom: 33%;" /></li>
</ul>
</li>
</ul>
<h3 id="域名解析服务DNS"><a href="#域名解析服务DNS" class="headerlink" title="域名解析服务DNS"></a>域名解析服务DNS</h3><ul>
<li><p>实现主机名到IP地址的映射</p>
<ul>
<li>每个域名服务器都维护一个高速缓存，存放最近用过的名字以及从何处获得名字映射信息的记录</li>
<li>当客户请求域名服务器转换名字时，服务器首先按标准过程检查它是否被授权管理该名字</li>
<li>域名服务器向客户报告缓存中有关名字与地址的绑定(binding)信息</li>
</ul>
</li>
<li><p>采用分布式数据库</p>
<img src="https://my-picture-1311448338.file.myqcloud.com/img/20220104111337.png" alt="image-20220104111337451" style="zoom:50%;" /></li>
<li><p>查询过程示例</p>
<img src="https://my-picture-1311448338.file.myqcloud.com/img/20220103160151.png" alt="image-20220103160151420" style="zoom:33%;" /></li>
<li><p>例题</p>
<img src="https://my-picture-1311448338.file.myqcloud.com/img/20220103160126.png" alt="image-20220103160126557" style="zoom: 33%;" /></li>
</ul>
<h3 id="Email服务与SMTP协议"><a href="#Email服务与SMTP协议" class="headerlink" title="Email服务与SMTP协议"></a>Email服务与SMTP协议</h3><ul>
<li>Email应用组件<ul>
<li>邮件客户端</li>
<li>邮件服务器</li>
<li>SMTP协议（Simple Mail Transfer Protocol）、MIME、POP协议<ul>
<li>使用TCP协议从客户端向服务器可靠的发送电子邮件消息，端口号25</li>
<li>直接传输: 发送服务器到接收服务器</li>
<li>传输的三个阶段<ul>
<li>握手 (问候)</li>
<li>消息发送</li>
<li>终止</li>
</ul>
</li>
<li>命令/响应的交互<ul>
<li>命令：ASCII文本信息</li>
<li>响应：状态码与短语</li>
</ul>
</li>
<li>消息必须是7位ASCII码</li>
</ul>
</li>
</ul>
</li>
</ul>

    </div>

    
    
    
        

<div>
<ul class="post-copyright">
  <li class="post-copyright-author">
    <strong>本文作者： </strong>Lrk612
  </li>
  <li class="post-copyright-link">
    <strong>本文链接：</strong>
    <a href="https://sharp-rookie.github.io/2022/01/03/%E3%80%90%E7%9F%A5%E8%AF%86%E3%80%91%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E7%9F%A5%E8%AF%86%E7%82%B9/" title="计算机网络知识总结">https://sharp-rookie.github.io/2022/01/03/【知识】计算机网络知识点/</a>
  </li>
  <li class="post-copyright-license">
    <strong>版权声明： </strong>本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="noopener" target="_blank"><i class="fab fa-fw fa-creative-commons"></i>BY-NC-SA</a> 许可协议。转载请注明出处！
  </li>
</ul>
</div>


      <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/" rel="tag"># 计算机网络</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2022/01/02/%E3%80%90%E6%8A%80%E6%9C%AF%E3%80%91mmap%E5%86%85%E5%AD%98%E6%98%A0%E5%B0%84/" rel="prev" title="mmap内存映射——用户空间与内核空间的直接交流">
      <i class="fa fa-chevron-left"></i> mmap内存映射——用户空间与内核空间的直接交流
    </a></div>
      <div class="post-nav-item">
    <a href="/2022/01/16/%E3%80%90%E8%AE%A1%E7%BD%91%E8%AF%BE%E8%AE%BE%E3%80%91Linux-TCP%E6%8B%A5%E5%A1%9E%E6%8E%A7%E5%88%B6%E7%A0%94%E7%A9%B6/" rel="next" title="【计网课设】基于强化学习的TCP拥塞控制算法优化">
      【计网课设】基于强化学习的TCP拥塞控制算法优化 <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          
    <div class="comments" id="valine-comments"></div>

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#1-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E6%A6%82%E8%BF%B0"><span class="nav-text">1. 计算机网络概述</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1-1-%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5"><span class="nav-text">1.1 基本概念</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#1-2-%E4%BA%A4%E6%8D%A2%E5%8E%9F%E7%90%86"><span class="nav-text">1.2 交换原理</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%94%B5%E8%B7%AF%E4%BA%A4%E6%8D%A2"><span class="nav-text">电路交换</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%8A%A5%E6%96%87%E4%BA%A4%E6%8D%A2"><span class="nav-text">报文交换</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%88%86%E7%BB%84%E4%BA%A4%E6%8D%A2"><span class="nav-text">分组交换</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#1-3-%E7%BD%91%E7%BB%9C%E5%BA%94%E7%94%A8"><span class="nav-text">1.3 网络应用</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#1-4-%E7%BD%91%E7%BB%9C%E4%BD%93%E7%B3%BB%E6%9E%B6%E6%9E%84"><span class="nav-text">1.4 网络体系架构</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9B%B8%E5%85%B3%E6%A6%82%E5%BF%B5"><span class="nav-text">相关概念</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%B1%82%E6%AC%A1%E5%8C%96%E7%BD%91%E7%BB%9C%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84"><span class="nav-text">层次化网络体系结构</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#OSI%E4%B8%83%E5%B1%82%E5%8F%82%E8%80%83%E6%A8%A1%E5%9E%8B"><span class="nav-text">OSI七层参考模型</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#TCP-IP%E5%9B%9B%E5%B1%82%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84"><span class="nav-text">TCP&#x2F;IP四层体系结构</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%87%A0%E7%A7%8D%E7%89%A9%E7%90%86%E8%AE%BE%E5%A4%87"><span class="nav-text">几种物理设备</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#1-5-%E7%BD%91%E7%BB%9C%E6%80%A7%E8%83%BD%E8%AF%84%E4%BC%B0"><span class="nav-text">1.5 网络性能评估</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%93%BE%E8%B7%AF%E5%B8%A6%E5%AE%BD"><span class="nav-text">链路带宽</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%97%B6%E5%BB%B6"><span class="nav-text">时延</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%97%B6%E5%BB%B6%E5%B8%A6%E5%AE%BD%E7%A7%AF"><span class="nav-text">时延带宽积</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%90%9E%E5%90%90%E9%87%8F"><span class="nav-text">吞吐量</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#2-%E7%89%A9%E7%90%86%E5%B1%82"><span class="nav-text">2. 物理层</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9B%B8%E5%85%B3%E6%A6%82%E5%BF%B5-1"><span class="nav-text">相关概念</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%BD%91%E7%BB%9C%E9%80%9A%E4%BF%A1%E7%BC%96%E7%A0%81"><span class="nav-text">网络通信编码</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#3-%E6%95%B0%E6%8D%AE%E9%93%BE%E8%B7%AF%E5%B1%82"><span class="nav-text">3. 数据链路层</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#3-1-%E7%9B%B8%E5%85%B3%E6%A6%82%E5%BF%B5"><span class="nav-text">3.1 相关概念</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%BB%84%E5%B8%A7%EF%BC%88%E5%B8%A7%E5%AE%9A%E7%95%8C%E9%97%AE%E9%A2%98%EF%BC%89"><span class="nav-text">组帧（帧定界问题）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BB%A5%E5%A4%AA%E7%BD%91"><span class="nav-text">以太网</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%97%A0%E7%BA%BF%E5%B1%80%E5%9F%9F%E7%BD%91-IEEE802-11"><span class="nav-text">无线局域网 IEEE802.11</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%BD%91%E6%A1%A5%E4%B8%8E%E4%BA%A4%E6%8D%A2%E6%9C%BA"><span class="nav-text">网桥与交换机</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-2-%E5%B7%AE%E9%94%99%E6%A3%80%E6%B5%8B"><span class="nav-text">3.2 差错检测</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-3-%E5%8F%AF%E9%9D%A0%E4%BC%A0%E8%BE%93%E6%9C%BA%E5%88%B6"><span class="nav-text">3.3 可靠传输机制</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%87%AA%E5%8A%A8%E8%AF%B7%E6%B1%82%E9%87%8D%E4%BC%A0%EF%BC%88ARQ%EF%BC%89%E6%9C%BA%E5%88%B6"><span class="nav-text">自动请求重传（ARQ）机制</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%81%9C%E6%AD%A2%E7%AD%89%E5%BE%85%E5%8D%8F%E8%AE%AE"><span class="nav-text">停止等待协议</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%BF%9E%E7%BB%ADARQ%E5%8D%8F%E8%AE%AE"><span class="nav-text">连续ARQ协议</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%90%8E%E9%80%80N%E5%B8%A7%EF%BC%88Go-Back-N%EF%BC%89"><span class="nav-text">后退N帧（Go-Back-N）</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%80%89%E6%8B%A9%E6%80%A7%E9%87%8D%E4%BC%A0%EF%BC%88SR%EF%BC%89"><span class="nav-text">选择性重传（SR）</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%BB%91%E5%8A%A8%E7%AA%97%E5%8F%A3%E5%8D%8F%E8%AE%AE"><span class="nav-text">滑动窗口协议</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-4-%E5%AA%92%E8%B4%A8%E6%8E%A5%E5%85%A5%E6%8E%A7%E5%88%B6%EF%BC%88MAC%E5%8D%8F%E8%AE%AE%EF%BC%89"><span class="nav-text">3.4 媒质接入控制（MAC协议）</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%9D%99%E6%80%81%E4%BF%A1%E9%81%93%E5%88%92%E5%88%86MAC%E5%8D%8F%E8%AE%AE"><span class="nav-text">静态信道划分MAC协议</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%9A%8F%E6%9C%BA%E8%AE%BF%E9%97%AEMAC%E5%8D%8F%E8%AE%AE"><span class="nav-text">随机访问MAC协议</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#ALOHA"><span class="nav-text">ALOHA</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%97%B6%E9%9A%99ALOHA"><span class="nav-text">时隙ALOHA</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#CSMA"><span class="nav-text">CSMA</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E6%99%AE%E9%80%9ACSMA"><span class="nav-text">普通CSMA</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#CSMA-CD"><span class="nav-text">CSMA&#x2F;CD</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#CSMA-CA"><span class="nav-text">CSMA&#x2F;CA</span></a></li></ol></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%BD%AE%E8%BD%ACMAC%E5%8D%8F%E8%AE%AE"><span class="nav-text">轮转MAC协议</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-5-%E5%85%B6%E4%BB%96%E7%9F%A5%E8%AF%86%E7%82%B9"><span class="nav-text">3.5 其他知识点</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#4-%E7%BD%91%E7%BB%9C%E5%B1%82"><span class="nav-text">4. 网络层</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#4-1-%E7%BD%91%E7%BB%9C%E4%BA%92%E8%81%94%E4%B8%8E%E8%B7%AF%E7%94%B1%E5%99%A8"><span class="nav-text">4.1 网络互联与路由器</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4-2-%E4%BA%A4%E6%8D%A2%E5%92%8C%E6%A1%A5%E6%8E%A5"><span class="nav-text">4.2 交换和桥接</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BA%A4%E6%8D%A2%E6%9C%BA"><span class="nav-text">交换机</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BA%A4%E6%8D%A2%E7%BD%91%E7%BB%9C"><span class="nav-text">交换网络</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%95%B0%E6%8D%AE%E6%8A%A5%E7%BD%91%E7%BB%9C"><span class="nav-text">数据报网络</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%99%9A%E7%94%B5%E8%B7%AF%EF%BC%88VC%EF%BC%89%E7%BD%91%E7%BB%9C"><span class="nav-text">虚电路（VC）网络</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%BA%90%E8%B7%AF%E7%94%B1"><span class="nav-text">源路由</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%BD%91%E6%A1%A5%E5%92%8C%E5%B1%80%E5%9F%9F%E7%BD%91%E4%BA%A4%E6%8D%A2%E6%9C%BA"><span class="nav-text">网桥和局域网交换机</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%8A%A8%E6%9C%BA"><span class="nav-text">动机</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%BD%91%E6%A1%A5"><span class="nav-text">网桥</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#1-%E8%A7%A3%E5%86%B3%E6%97%A0%E8%84%91%E5%85%A8%E8%BD%AC%E5%8F%91%E7%9A%84%E9%97%AE%E9%A2%98%EF%BC%9A%E9%80%8F%E6%98%8E%E7%BD%91%E6%A1%A5"><span class="nav-text">1. 解决无脑全转发的问题：透明网桥</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#2-%E8%A7%A3%E5%86%B3%E7%BD%91%E7%BB%9C%E7%8E%AF%E8%B7%AF%E9%97%AE%E9%A2%98%EF%BC%9A%E7%94%9F%E6%88%90%E6%A0%91%E7%AE%97%E6%B3%95"><span class="nav-text">2. 解决网络环路问题：生成树算法</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#3-%E8%A7%A3%E5%86%B3%E5%B9%BF%E6%92%AD%E5%92%8C%E5%A4%9A%E6%92%AD%E9%97%AE%E9%A2%98"><span class="nav-text">3. 解决广播和多播问题</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#4-%E8%A7%A3%E5%86%B3%E6%8B%93%E5%B1%95%E6%80%A7%E9%97%AE%E9%A2%98%EF%BC%9A%E8%99%9A%E6%8B%9F%E5%B1%80%E5%9F%9F%E7%BD%91VLAN"><span class="nav-text">4. 解决拓展性问题：虚拟局域网VLAN</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E7%BD%91%E6%A1%A5-VS-%E4%BA%A4%E6%8D%A2%E6%9C%BA"><span class="nav-text">网桥 VS 交换机</span></a></li></ol></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%85%B1%E4%BA%AB%E5%BC%8FVS%E4%BA%A4%E6%8D%A2%E5%BC%8F%E4%BB%A5%E5%A4%AA%E7%BD%91"><span class="nav-text">共享式VS交换式以太网</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%AE%BE%E5%A4%87%E5%AF%B9%E6%AF%94"><span class="nav-text">设备对比</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%8D%8F%E8%AE%AE%E5%AF%B9%E6%AF%94"><span class="nav-text">协议对比</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4-3-IP%E6%9C%8D%E5%8A%A1%E6%A8%A1%E5%9E%8B%E4%B8%8E%E5%8D%8F%E8%AE%AE"><span class="nav-text">4.3 IP服务模型与协议</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4-4-IP%E5%9C%B0%E5%9D%80%E5%8F%8A%E5%85%B6%E5%88%92%E5%88%86"><span class="nav-text">4.4 IP地址及其划分</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#IP%E7%BC%96%E5%9D%80"><span class="nav-text">IP编址</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#IPv4"><span class="nav-text">IPv4</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#IP%E5%AD%90%E7%BD%91%E5%88%92%E5%88%86"><span class="nav-text">IP子网划分</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%97%A0%E5%88%86%E7%B1%BB%E7%BC%96%E5%9D%80CIDR%E4%B8%8E%E8%B7%AF%E7%94%B1%E8%81%9A%E5%90%88"><span class="nav-text">无分类编址CIDR与路由聚合</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%9C%B0%E5%9D%80%E8%BD%AC%E6%8D%A2%E5%8D%8F%E8%AE%AE%EF%BC%88ARP%EF%BC%89"><span class="nav-text">地址转换协议（ARP）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%8A%A8%E6%80%81%E4%B8%BB%E6%9C%BA%E9%85%8D%E7%BD%AE%E5%8D%8F%E8%AE%AEDHCP"><span class="nav-text">动态主机配置协议DHCP</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#NAT%E5%8D%8F%E8%AE%AE"><span class="nav-text">NAT协议</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ICMP%E5%8D%8F%E8%AE%AE"><span class="nav-text">ICMP协议</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#IPv6"><span class="nav-text">IPv6</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4-5-%E8%B7%AF%E7%94%B1%E7%AE%97%E6%B3%95%E4%B8%8E%E5%8D%8F%E8%AE%AE"><span class="nav-text">4.5 路由算法与协议</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%BD%AC%E5%8F%91-VS-%E8%B7%AF%E7%94%B1"><span class="nav-text">转发 VS 路由</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%B7%9D%E7%A6%BB%E5%90%91%E9%87%8F%EF%BC%88DV%EF%BC%89%E8%B7%AF%E7%94%B1%E9%80%89%E6%8B%A9"><span class="nav-text">距离向量（DV）路由选择</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%8E%9F%E7%90%86"><span class="nav-text">原理</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%B7%AF%E7%94%B1%E9%80%89%E6%8B%A9%E4%BF%A1%E6%81%AF%E5%8D%8F%E8%AE%AE%EF%BC%88RIP%EF%BC%89"><span class="nav-text">路由选择信息协议（RIP）</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%93%BE%E8%B7%AF%E7%8A%B6%E6%80%81%EF%BC%88LS%EF%BC%89%E8%B7%AF%E7%94%B1%E9%80%89%E6%8B%A9"><span class="nav-text">链路状态（LS）路由选择</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%8E%9F%E7%90%86-1"><span class="nav-text">原理</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%BC%80%E6%94%BE%E6%9C%80%E7%9F%AD%E8%B7%AF%E5%BE%84%E4%BC%98%E5%85%88%EF%BC%88OSPF%EF%BC%89"><span class="nav-text">开放最短路径优先（OSPF）</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%87%AA%E6%B2%BB%E7%B3%BB%E7%BB%9F"><span class="nav-text">自治系统</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5"><span class="nav-text">基本概念</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%86%85%E9%83%A8%E7%BD%91%E5%85%B3%E5%8D%8F%E8%AE%AE%EF%BC%88IGP%EF%BC%89"><span class="nav-text">内部网关协议（IGP）</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%A4%96%E9%83%A8%E7%BD%91%E5%85%B3%E5%8D%8F%E8%AE%AE%EF%BC%88EGP%EF%BC%9ABGP%EF%BC%89"><span class="nav-text">外部网关协议（EGP：BGP）</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%85%B6%E4%BB%96"><span class="nav-text">其他</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#IP%E5%A4%9A%E6%92%AD"><span class="nav-text">IP多播</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%A4%9A%E5%8D%8F%E8%AE%AE%E6%A0%87%E7%AD%BE%E4%BA%A4%E6%8D%A2%EF%BC%88MPLS%EF%BC%89"><span class="nav-text">多协议标签交换（MPLS）</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%A7%BB%E5%8A%A8IP"><span class="nav-text">移动IP</span></a></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#5-%E4%BC%A0%E8%BE%93%E5%B1%82"><span class="nav-text">5. 传输层</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#5-1-%E7%9B%B8%E5%85%B3%E6%A6%82%E5%BF%B5"><span class="nav-text">5.1 相关概念</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#5-2-%E7%94%A8%E6%88%B7%E6%95%B0%E6%8D%AE%E6%8A%A5%EF%BC%88UDP%EF%BC%89%E5%8D%8F%E8%AE%AE"><span class="nav-text">5.2 用户数据报（UDP）协议</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#5-3-%E5%8F%AF%E9%9D%A0%E5%AD%97%E8%8A%82%E6%B5%81%EF%BC%88TCP%EF%BC%89%E5%8D%8F%E8%AE%AE"><span class="nav-text">5.3 可靠字节流（TCP）协议</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#TCP%E6%9C%8D%E5%8A%A1%E6%A8%A1%E5%9E%8B"><span class="nav-text">TCP服务模型</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#TCP%E5%B8%A7%E7%BB%93%E6%9E%84"><span class="nav-text">TCP帧结构</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%B8%89%E6%AC%A1%E6%8F%A1%E6%89%8B%E5%BB%BA%E7%AB%8B%E8%BF%9E%E6%8E%A5"><span class="nav-text">三次握手建立连接</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%9B%9B%E6%AC%A1%E6%8C%A5%E6%89%8B%E6%96%AD%E5%BC%80%E8%BF%9E%E6%8E%A5"><span class="nav-text">四次挥手断开连接</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#TCP%E6%95%B0%E6%8D%AE%E6%8A%A5%E4%B8%AD%E5%8F%98%E9%87%8F"><span class="nav-text">TCP数据报中变量</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#5-4-TCP%E6%BB%91%E5%8A%A8%E7%AA%97%E5%8F%A3%E7%AE%97%E6%B3%95"><span class="nav-text">5.4 TCP滑动窗口算法</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#5-5-TCP%E6%8B%A5%E5%A1%9E%E6%8E%A7%E5%88%B6"><span class="nav-text">5.5 TCP拥塞控制</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#6-%E5%BA%94%E7%94%A8%E5%B1%82"><span class="nav-text">6. 应用层</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9B%B8%E5%85%B3%E6%A6%82%E5%BF%B5-2"><span class="nav-text">相关概念</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Web%E5%BA%94%E7%94%A8%E4%B8%8EHTTP%E5%8D%8F%E8%AE%AE"><span class="nav-text">Web应用与HTTP协议</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%9F%9F%E5%90%8D%E8%A7%A3%E6%9E%90%E6%9C%8D%E5%8A%A1DNS"><span class="nav-text">域名解析服务DNS</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Email%E6%9C%8D%E5%8A%A1%E4%B8%8ESMTP%E5%8D%8F%E8%AE%AE"><span class="nav-text">Email服务与SMTP协议</span></a></li></ol></li></ol></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Lrk612"
      src="/images/avatar.png">
  <p class="site-author-name" itemprop="name">Lrk612</p>
  <div class="site-description" itemprop="description">Lrk's blog</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">54</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">5</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">27</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>


  <div class="links-of-blogroll motion-element">
    <div class="links-of-blogroll-title"><i class="fa fa-link fa-fw"></i>
      Links
    </div>
    <ul class="links-of-blogroll-list">
        <li class="links-of-blogroll-item">
          <a href="https://www.google.com/" title="https:&#x2F;&#x2F;www.google.com" rel="noopener" target="_blank">Google</a>
        </li>
        <li class="links-of-blogroll-item">
          <a href="https://arxiv.org/" title="https:&#x2F;&#x2F;arxiv.org&#x2F;" rel="noopener" target="_blank">arXiv</a>
        </li>
        <li class="links-of-blogroll-item">
          <a href="https://ieeexplore.ieee.org/Xplore/home.jsp" title="https:&#x2F;&#x2F;ieeexplore.ieee.org&#x2F;Xplore&#x2F;home.jsp" rel="noopener" target="_blank">IEEE Xplore</a>
        </li>
    </ul>
  </div>

      </div>
        <div class="back-to-top motion-element">
          <i class="fa fa-arrow-up"></i>
          <span>0%</span>
        </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        <!-- 访问量 -->

    <script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>

    <span id="busuanzi_container_site_pv">总访问量<span id="busuanzi_value_site_pv"></span>次</span>
    <span class="post-meta-divider">|</span>
    <span id="busuanzi_container_site_uv">总访客数<span id="busuanzi_value_site_uv"></span>人</span>
<!-- 不蒜子计数初始值纠正 -->
<script>
$(document).ready(function() {

    var int = setInterval(fixCount, 50);  // 50ms周期检测函数
    var countOffset = 20000;  // 初始化首次数据

    function fixCount() {            
       if (document.getElementById("busuanzi_container_site_pv").style.display != "none")
        {
            $("#busuanzi_value_site_pv").html(parseInt($("#busuanzi_value_site_pv").html()) + countOffset); 
            clearInterval(int);
        }                  
        if ($("#busuanzi_container_site_pv").css("display") != "none")
        {
            $("#busuanzi_value_site_uv").html(parseInt($("#busuanzi_value_site_uv").html()) + countOffset); // 加上初始数据 
            clearInterval(int); // 停止检测
        }  
    }
       	
});
</script> 


<!-- 版权 -->
<div class="copyright">
  
  &copy; 2021-12-1 – 
  <span itemprop="copyrightYear">2022</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Lrk612</span>
</div>

<!-- ICP备案 -->
  <div class="beian"><a href="https://beian.miit.gov.cn/" rel="noopener" target="_blank">ICP备案 </a>
      <img src="https://my-picture-1311448338.file.myqcloud.com/img/20211209170739.png" style="display: inline-block;"><a href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=2021035798" rel="noopener" target="_blank">豫ICP备2021035798号 </a>
  </div>

<!-- 不知道是什么 -->
        
<div class="busuanzi-count">
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
</div>








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  




  
<script src="/js/local-search.js"></script>













  

  


<script>
NexT.utils.loadComments(document.querySelector('#valine-comments'), () => {
  NexT.utils.getScript('//unpkg.com/valine/dist/Valine.min.js', () => {
    var GUEST = ['nick', 'mail', 'link'];
    var guest = 'nick,mail,link';
    guest = guest.split(',').filter(item => {
      return GUEST.includes(item);
    });
    new Valine({
      el         : '#valine-comments',
      verify     : false,
      notify     : false,
      appId      : 'fH6OdGBcCG8D6jC8NeeJlX9b-gzGzoHsz',
      appKey     : '1UoIb6vszMw6wl0n7kreb4Xz',
      placeholder: "Just go go ^_^",
      avatar     : 'mm',
      meta       : guest,
      pageSize   : '10' || 10,
      visitor    : true,
      lang       : 'zh-cn' || 'zh-cn',
      path       : location.pathname,
      recordIP   : true,
      serverURLs : ''
    });
    var infoEle = document.querySelector('#comments .info');
    if (infoEle && infoEle.childNodes && infoEle.childNodes.length > 0){
      infoEle.childNodes.forEach(function(item) {
        item.parentNode.removeChild(item);
      });
    }
  }, window.Valine);
});
</script>

</body>
</html>
